layout: post
title: "Java JSON"
category: Java
tags: [java]
---

## GSON

JsonElement无构造函数，只能通过JsonParser.parse来生成JsonElement。

JsonParser.parse(String) 如果想得到一个String类型的JsonElement，而该String中包含了一个特殊字符，则需要调用JsonParser(JsonReader)方法，通过JsonReader.setLenient方法，放宽检查。但是如果字符串中包含回车[]{}等，则还是会报异常。对于这种情况，只能使用byte数组来取代字符串了。而且需要添加Byte数组和Base64相互转化的Adapter。详细请参考https://gist.github.com/orip/3635246

序列化json时，=会被序列化为\u003d，为了避免这个问题，可以设置调用JsonBuilder的disableHtmlEscaping()来避免这个转化。
