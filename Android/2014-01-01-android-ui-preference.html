<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-43567748-2', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="true">
    
    
    
    <title>Android Preferences | Balance | 大道至简</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="android">
    <meta name="description" content="##Preference
官方描述：Represents the basic Preference UI building block displayed by a PreferenceActivity in the form of a ListView. This class provides the View to be displayed in the activity and associ">
<meta property="og:type" content="article">
<meta property="og:title" content="Android Preferences">
<meta property="og:url" content="http://blog.inching.org/Android/2014-01-01-android-ui-preference.html">
<meta property="og:site_name" content="Balance">
<meta property="og:description" content="##Preference
官方描述：Represents the basic Preference UI building block displayed by a PreferenceActivity in the form of a ListView. This class provides the View to be displayed in the activity and associ">
<meta property="og:image" content="http://developer.android.com/images/ui/settings/settings-subscreen.png">
<meta property="og:image" content="http://developer.android.com/images/ui/settings/settings-headers-tablet.png">
<meta property="og:image" content="http://developer.android.com/images/ui/settings/settings-headers-handset.png">
<meta property="og:updated_time" content="2017-11-22T08:34:46.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android Preferences">
<meta name="twitter:description" content="##Preference
官方描述：Represents the basic Preference UI building block displayed by a PreferenceActivity in the form of a ListView. This class provides the View to be displayed in the activity and associ">
<meta name="twitter:image" content="http://developer.android.com/images/ui/settings/settings-subscreen.png">
    
        <link rel="alternate" type="application/atom+xml" title="Balance" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/style/style.css?v=1.6.17">

    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-2846834382442028",
        enable_page_level_ads: true
      });
    </script>

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Cody Fei</h5>
          <a href="mailto:inchingcode@gmail.com" title="inchingcode@gmail.com" class="mail">inchingcode@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags/android"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/Android/"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/inchingorg" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/CodyFee" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.inesoi.com" target="_blank" >
                <i class="icon icon-lg icon-shopping-bag"></i>
                Shopping Bag
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Android Preferences</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Android Preferences</h1>
        <h5 class="subtitle">
            
                <time datetime="2013-12-31T16:00:00.000Z" itemprop="datePublished" class="page-time">
  2014-01-01
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Android/">Android</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
<article id="post-android-ui-preference"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Android Preferences</h1>
        <div class="post-meta">
            <time class="post-time" title="2014-01-01 00:00:00" datetime="2013-12-31T16:00:00.000Z"  itemprop="datePublished">2014-01-01</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Android/">Android</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>##Preference</p>
<p>官方描述：Represents the basic Preference UI building block displayed by a PreferenceActivity in the form of a ListView. This class provides the View to be displayed in the activity and associates with a SharedPreferences to store/retrieve the preference data.</p>
<p>也就是说，Preferences为用于存储用户设置提供UI控件，而SharedPreferences用户持久化用户设置。</p>
<p>Preferences的使用方法如下：</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;PreferenceScreen xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;
    &lt;CheckBoxPreference
        android:key=&quot;pref_sync&quot;
        android:title=&quot;@string/pref_sync&quot;
        android:summary=&quot;@string/pref_sync_summ&quot;
        android:defaultValue=&quot;true&quot; /&gt;
    &lt;ListPreference
        android:dependency=&quot;pref_sync&quot;
        android:key=&quot;pref_syncConnectionType&quot;
        android:title=&quot;@string/pref_syncConnectionType&quot;
        android:dialogTitle=&quot;@string/pref_syncConnectionType&quot;
        android:entries=&quot;@array/pref_syncConnectionTypes_entries&quot;
        android:entryValues=&quot;@array/pref_syncConnectionTypes_values&quot;
        android:defaultValue=&quot;@string/pref_syncConnectionTypes_default&quot; /&gt;
&lt;/PreferenceScreen&gt;
</code></pre><a id="more"></a>
<p>A Preference object is the building block for a single setting. Each Preference appears as an item in a list and provides the appropriate UI for users to modify the setting. Each Preference you add has a corresponding key-value pair that the system uses to save the setting in a default SharedPreferences file for your app’s settings. When the user changes a setting, the system updates the corresponding value in the SharedPreferences file for you. <strong>The only time you should directly interact with the associated SharedPreferences file is when you need to read the value in order to determine your app’s behavior based on the user’s setting.</strong> The value saved in SharedPreferences for each setting can be one of the following data types:</p>
<ul>
<li>Boolean</li>
<li>Float</li>
<li>Int</li>
<li>Long</li>
<li>String</li>
<li>String Set</li>
</ul>
<p>You must save the XML file in the res/xml/ directory. Although you can name the file anything you want, it’s traditionally named <strong>preferences.xml</strong>. You usually need only one file, because branches in the hierarchy (that open their own list of settings) are declared using nested instances of PreferenceScreen.</p>
<p>##常用的Preference</p>
<p>###二选一类Preference<br>CheckBoxPreference和SwitchPreference提供二选一组件，用来存储一个boolean类型的值。</p>
<ul>
<li><a href="http://developer.android.com/reference/android/preference/CheckBoxPreference.html" target="_blank" rel="external">CheckBoxPreference</a></li>
<li><a href="http://developer.android.com/reference/android/preference/SwitchPreference.html" target="_blank" rel="external">SwitchPreference</a></li>
</ul>
<p>###列表类Preference</p>
<p>ListPreference和MultiSelectListPrefe分别以Dialog的方式显示列表，ListPreference将存储一个String值，而MultiSelectListPrefe将存储一个String集合。也就是说ListPreference为列表单选，而MultiSelectListPrefe为列表多选。</p>
<ul>
<li><a href="http://developer.android.com/reference/android/preference/ListPreference.html" target="_blank" rel="external">ListPreference</a> </li>
<li><a href="http://developer.android.com/reference/android/preference/MultiSelectListPreference.html" target="_blank" rel="external">MultiSelectListPrefe</a> A Preference that displays a list of entries as a dialog. This preference will store a set of strings into the SharedPreferences. </li>
</ul>
<p>###编辑类Preference</p>
<p>EditTextPreference是以Dialog的方式用于输入文本。</p>
<ul>
<li><a href="http://developer.android.com/reference/android/preference/EditTextPreference.html" target="_blank" rel="external">EditTextPreference</a></li>
</ul>
<p>###容器类Preference</p>
<p>PreferenceScreen和PreferenceCategory可以理解为Preference容器。一次只能显示一个PreferenceScreen，当你有些Preference要在单独的Screen中显示时，需要将这些Preference放置到单独的PreferenceScreen，这样的PreferenceScreen称为subscreen。PreferenceCategory为Preference组件提供分组特性。</p>
<p><strong>使用subscreen的效果：</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://developer.android.com/images/ui/settings/settings-subscreen.png" alt="subscreen" title="">
                </div>
                <div class="image-caption">subscreen</div>
            </figure>
<p><strong>使用subscreen的例子：</strong></p>
<pre><code>&lt;PreferenceScreen  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;
    &lt;!-- opens a subscreen of settings --&gt;
    &lt;PreferenceScreen
        android:key=&quot;button_voicemail_category_key&quot;
        android:title=&quot;@string/voicemail&quot;
        android:persistent=&quot;false&quot;&gt;
        &lt;ListPreference
            android:key=&quot;button_voicemail_provider_key&quot;
            android:title=&quot;@string/voicemail_provider&quot; ... /&gt;
        &lt;!-- opens another nested subscreen --&gt;
        &lt;PreferenceScreen
            android:key=&quot;button_voicemail_setting_key&quot;
            android:title=&quot;@string/voicemail_settings&quot;
            android:persistent=&quot;false&quot;&gt;
            ...
        &lt;/PreferenceScreen&gt;
        &lt;RingtonePreference
            android:key=&quot;button_voicemail_ringtone_key&quot;
            android:title=&quot;@string/voicemail_ringtone_title&quot;
            android:ringtoneType=&quot;notification&quot; ... /&gt;
        ...
    &lt;/PreferenceScreen&gt;
    ...
&lt;/PreferenceScreen&gt;
</code></pre><p><strong>使用PreferenceCategory的例子：</strong></p>
<pre><code>&lt;PreferenceScreen xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;
    &lt;PreferenceCategory 
        android:title=&quot;@string/pref_sms_storage_title&quot;
        android:key=&quot;pref_key_storage_settings&quot;&gt;
        &lt;CheckBoxPreference
            android:key=&quot;pref_key_auto_delete&quot;
            android:summary=&quot;@string/pref_summary_auto_delete&quot;
            android:title=&quot;@string/pref_title_auto_delete&quot;
            android:defaultValue=&quot;false&quot;... /&gt;
        &lt;Preference 
            android:key=&quot;pref_key_sms_delete_limit&quot;
            android:dependency=&quot;pref_key_auto_delete&quot;
            android:summary=&quot;@string/pref_summary_delete_limit&quot;
            android:title=&quot;@string/pref_title_sms_delete&quot;... /&gt;
        &lt;Preference 
            android:key=&quot;pref_key_mms_delete_limit&quot;
            android:dependency=&quot;pref_key_auto_delete&quot;
            android:summary=&quot;@string/pref_summary_delete_limit&quot;
            android:title=&quot;@string/pref_title_mms_delete&quot; ... /&gt;
    &lt;/PreferenceCategory&gt;
    ...
&lt;/PreferenceScreen&gt;
</code></pre><ul>
<li><a href="http://developer.android.com/reference/android/preference/PreferenceScreen.html" target="_blank" rel="external">PreferenceScreen</a></li>
<li><a href="http://developer.android.com/reference/android/preference/PreferenceCategory.html" target="_blank" rel="external">PreferenceCategory</a></li>
</ul>
<p>###Intent类的Preference</p>
<p>In some cases, you might want a preference item to open a different activity instead of a settings screen, such as a web browser to view a web page. To invoke an Intent when the user selects a preference item, add an <code>&lt;intent&gt;</code> element as a child of the corresponding <code>&lt;Preference&gt;</code> element.</p>
<p>For example, here’s how you can use a preference item to open a web page:</p>
<pre><code>&lt;Preference android:title=&quot;@string/prefs_web_page&quot; &gt;
    &lt;intent android:action=&quot;android.intent.action.VIEW&quot;
            android:data=&quot;http://www.example.com&quot; /&gt;
&lt;/Preference&gt;
</code></pre><p>###其他<br>RingtonePreference是以Dialog的方式用于铃声选择。</p>
<ul>
<li><a href="http://developer.android.com/reference/android/preference/RingtonePreference.html" target="_blank" rel="external">RingtonePreference</a></li>
</ul>
<p>其他子类请参考<a href="http://developer.android.com/reference/android/preference/Preference.html" target="_blank" rel="external">Preference</a>。<br>当现有的Preference无法满足需求时，可以<a href="http://developer.android.com/guide/topics/ui/settings.html#Custom" target="_blank" rel="external">自定义Preference</a>。</p>
<p>##Preferences常用属性</p>
<ul>
<li><p>android:key<br>This attribute is required for preferences that persist a data value. It specifies the unique key (a string) the system uses when saving this setting’s value in the SharedPreferences.<br>The only instances in which this attribute is not required is when the preference is a PreferenceCategory or PreferenceScreen, or the preference specifies an Intent to invoke (with an <code>&lt;intent&gt;</code> element) or a Fragment to display (with an android:fragment attribute).</p>
</li>
<li><p>android:title</p>
</li>
<li>android:defaultValue</li>
</ul>
<p>##Preferences的持久化(SharedPreferences)</p>
<p><a href="http://developer.android.com/reference/android/content/SharedPreferences.html" target="_blank" rel="external">SharedPreferences</a> 通常作为Preferences的持久化方式，它以键值对的方式，存储在xml文件中，这些xml文件位于<code>/data/data/&lt;package name&gt;/shared_prefs</code> 目录下。</p>
<p>Android中可通过以下三种方式获取SharedPreferences，分别对应着三种不同的作用范围。</p>
<ul>
<li><p>public SharedPreferences getPreferences(int mode)。该方法属于Activity，获取的是本Activity私有的Preferences，使用当前类不带包名的类名作为文件的名称，Activity最多对应一个这样的xml存储文件。如果一个Activity想访问另一个Activity的私有的Preferences，则可以</p>
</li>
<li><p>public SharedPreferences getSharedPreferences(String name, int mode)。该方法也可以在Activity中调用，从Activity的父类ContextWrapper继承。整个应用程序共享这些SharedPreferences，可以有多个，以第一参数的name为文件名保存在系统中。在一个Activity中，可以通过指定不同的name来读写不同的xml持久化文件。</p>
</li>
<li><p>public static SharedPreferences getDefaultSharedPreferences(Context context)。 PreferenceManager的静态函数，用于保存PreferenceActivity中的设置。一个应用程序只有一个，名字为<code>&lt;com.package.name&gt;_preferences.xml</code>。从PreferenceManager源码可得出此结论：</p>
<p> public static SharedPreferences getDefaultSharedPreferences(Context context) {</p>
<pre><code>return context.getSharedPreferences(getDefaultSharedPreferencesName(context),
    getDefaultSharedPreferencesMode());
</code></pre><p> }</p>
<p> private static String getDefaultSharedPreferencesName(Context context) {</p>
<pre><code>return context.getPackageName() + &quot;_preferences&quot;;
</code></pre><p> }</p>
<p> private static int getDefaultSharedPreferencesMode() {</p>
<pre><code>return Context.MODE_PRIVATE;
</code></pre><p> }</p>
</li>
</ul>
<p>###应用程序间共享Preferences</p>
<p>如果访问其他应用中的Preference，前提条件是：该preference创建时指定了Context.MODE_WORLD_READABLE或者Context.MODE_WORLD_WRITEABLE权限。如：有个<code>&lt;package name&gt;</code>为com.ljq.action的应用使用下面语句创建了preference。</p>
<pre><code>getSharedPreferences(&quot;ljq&quot;, Context.MODE_WORLD_READABLE);
</code></pre><p>其他应用要访问上面应用的preference，首先需要创建上面应用的Context，然后通过Context访问其Preference ，访问Preference时会在应用所在包下的shared_prefs目录找到preference ：</p>
<pre><code>Context otherAppsContext = createPackageContext(&quot;com.ljq.action&quot;, Context.CONTEXT_IGNORE_SECURITY);
SharedPreferences sharedPreferences = otherAppsContext.getSharedPreferences(&quot;ljq&quot;, Context.MODE_WORLD_READABLE);
String name = sharedPreferences.getString(&quot;name&quot;, &quot;&quot;);
int age = sharedPreferences.getInt(&quot;age&quot;, 0);
</code></pre><p>如果不通过创建Context访问其他应用的preference，也可以以读取xml文件方式直接访问其他应用preference对应的xml文件，如：</p>
<pre><code>File xmlFile = new File(&quot;/data/data/&lt;package name&gt;/shared_prefs/itcast.xml&quot;);//&lt;package name&gt;应替换成应用的包名
</code></pre><p>参考 <a href="http://www.cnblogs.com/linjiqin/archive/2011/05/26/2059133.html" target="_blank" rel="external">使用SharedPreferences进行数据存储</a></p>
<p>##在界面中显示Preferences</p>
<p>我们可以在Activity或者Fragment中显示Prefrences，并且当Preferences在界面上被用户改变时，更改将被自动持久化。在Android 3.0+我们使用PreferenceFragement来实现，在Android 3.0之前，我们使用PreferenceActivity来实现。不管是在PrererencesFragment中还是在PreferenceActivity，加载layout文件均不是使用setContent方法，而是使用addPreferencesFromResource加载一个xml资源文件。</p>
<p>定义PreferenceActivity方法为：</p>
<pre><code>public class SettingsActivity extends PreferenceActivity {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        addPreferencesFromResource(R.xml.preferences);
    }
}
</code></pre><p>定义PrererencesFragment方法为：</p>
<pre><code>public static class SettingsFragment extends PreferenceFragment {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // Load the preferences from an XML resource
        addPreferencesFromResource(R.xml.preferences);
    }
    ...
}
</code></pre><p>You can then add this fragment to an Activity just as you would for any other Fragment. For example:</p>
<pre><code>public class SettingsActivity extends Activity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // Display the fragment as the main content.
        getFragmentManager().beginTransaction()
                .replace(android.R.id.content, new SettingsFragment())
                .commit();
    }
}
</code></pre><p>###设置默认值</p>
<p>为Preference设置默认值需要以下两步：</p>
<ol>
<li><p>在Preference的xml中通过android:defaultValue指定默认值，如：</p>
 <!-- default value is a boolean -->
<pre><code>&lt;CheckBoxPreference android:defaultValue=&quot;true&quot; 
    ... /&gt;

&lt;!-- default value is a string --&gt;
&lt;ListPreference
    android:defaultValue=&quot;@string/pref_syncConnectionTypes_default&quot;
    ... /&gt;
</code></pre></li>
<li><p>在该Actvity(或者其他Activty)的onCreate方法中调用以下方法：</p>
<p> PreferenceManager.setDefaultValues(this, R.xml.advanced_preferences, false); </p>
</li>
</ol>
<p>第三个参数指定默认值是否可以设置多次。false表示默认值只被设置一次，多次调用该方法不会覆盖用户设置的值；true表示每次调用该API时，所有设置都将恢复为默认值。</p>
<p>###使用Preference Headers</p>
<p>通常，我们可能会这样设置设置界面，在第一个设置界面使用一个PreferenceScreen列出所有设置项，然后每个设置项对应一个subscreen。但在Android 3.0+，这种做法已经被淘汰，取而代之的是Preference Headers特性。这种方法的最大优势在于，在较大屏幕上点击一个设置项时，对应的设置界面将在第二个Panel上显示，也是就是使用two-pane展现方式。而在较小屏幕，则跟subscreen的展现效果类似。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://developer.android.com/images/ui/settings/settings-headers-tablet.png" alt="settings-headers-tablet" title="">
                </div>
                <div class="image-caption">settings-headers-tablet</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://developer.android.com/images/ui/settings/settings-headers-handset.png" alt="settings-headers-handset" title="">
                </div>
                <div class="image-caption">settings-headers-handset</div>
            </figure>
<p>实现方式参考 <a href="http://developer.android.com/guide/topics/ui/settings.html#PreferenceHeaders" target="_blank" rel="external">Using Preference Headers</a>。</p>
<p>###读取默认值</p>
<p>默认情况下PreferenceFragment和PreferenceActivity都将存储到DefaultSharedReference中，可以在任意地方通过静态方法<a href="http://developer.android.com/reference/android/preference/PreferenceManager.html#getDefaultSharedPreferences(android.content.Context" target="_blank" rel="external">PreferenceManager.getDefaultSharedPreferences()</a>获取SharedReference实例，并读取其中的值。</p>
<p>使用方法如下：</p>
<pre><code>SharedPreferences sharedPref = PreferenceManager.getDefaultSharedPreferences(this);
String syncConnPref = sharedPref.getString(SettingsActivity.KEY_PREF_SYNC_CONN, &quot;&quot;);
</code></pre><p>监听Preference的变化可参考 <a href="http://developer.android.com/guide/topics/ui/settings.html#ReadingPrefs" target="_blank" rel="external">Reading Preferences</a></p>
<p>##其他</p>
<ul>
<li><a href="http://engineering.meetme.com/2014/03/android-tricks-and-tips-storing-a-pojo-into-shared-preferences/" target="_blank" rel="external">Android Tricks and Tips: Storing a POJO Into Shared Preferences | Engineering Serendipity</a></li>
<li><a href="https://github.com/johnjohndoe/TypedPreferences" target="_blank" rel="external">johnjohndoe/TypedPreferences</a></li>
</ul>
<p>##参考</p>
<ul>
<li><a href="http://blog.csdn.net/ichliebephone/article/details/5916320" target="_blank" rel="external">Android的设置界面及Preference使用</a></li>
<li><a href="http://developer.android.com/guide/topics/ui/settings.html" target="_blank" rel="external">Setting Doc</a></li>
<li><a href="http://developer.android.com/design/patterns/settings.html" target="_blank" rel="external">Settings Design</a></li>
<li><a href="http://blog.csdn.net/kost_/article/details/13510369" target="_blank" rel="external">Hack4-自定义PreferenceActivity界面</a></li>
<li><a href="http://www.salttiger.com/50-android-hacks/" target="_blank" rel="external">《[50.Android.Hacks(2013.6)].Carlos.Sessa.文字版》</a></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2017-11-22T08:34:46.000Z" itemprop="dateUpdated">2017-11-22 16:34:46</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/Android/2014-01-01-android-ui-preference.html" target="_blank" rel="external">http://blog.inching.org/Android/2014-01-01-android-ui-preference.html</a>
        
    </div>
    <footer>
        <a href="http://blog.inching.org">
            <img src="/img/avatar.png" alt="Cody Fei">
            Cody Fei
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/Android/2014-01-01-android-ui-preference.html&title=《Android Preferences》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/Android/2014-01-01-android-ui-preference.html&title=《Android Preferences》 — Balance&source=##Preference
官方描述：Represents the basic Preference UI building block displayed..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/Android/2014-01-01-android-ui-preference.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Android Preferences》 — Balance&url=http://blog.inching.org/Android/2014-01-01-android-ui-preference.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/Android/2014-01-01-android-ui-preference.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/Android/2014-01-14-android-ui-animation.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Android动画</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/Android/2014-01-01-android-ui-custom-view-group.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">自定义ViewGroup</h4>
      </a>
    </div>
  
</nav>



    











</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.JPG" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.JPG" data-alipay="/img/alipay.JPG">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top" style="display:none">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>footer.license</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Cody Fei &copy; 2012 - 2018</span>
            <span style="display:none">
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/Android/2014-01-01-android-ui-preference.html&title=《Android Preferences》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/Android/2014-01-01-android-ui-preference.html&title=《Android Preferences》 — Balance&source=##Preference
官方描述：Represents the basic Preference UI building block displayed..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/Android/2014-01-01-android-ui-preference.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Android Preferences》 — Balance&url=http://blog.inching.org/Android/2014-01-01-android-ui-preference.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/Android/2014-01-01-android-ui-preference.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACqElEQVR42u3awW7jUAgF0P7/T3e2M6psX+DhZqTjVRQlzjuuBBT4+oqv77+uq3fyb/38zNXr++8eu/Dw8PAGR/95XX3m/oi9z/feuf8tPDw8vD3eVURNDnR/tySg5484PzMeHh7ep/HuD5rXuvk98fDw8P5fXl7m9griX04MeHh4eDGvd+t7dt78fWgoxC0PPDw8vHd4k/L3t16vzPfw8PDwxlP1SZLoLQHMi+9/7oCHh4e3wOsNqE7B8lFZXi7j4eHhbfMmx62uDlRTTvLOw1IXHh4e3jKvN/hPQvk8nfQWDvDw8PDe5BWCb1xGVxcL8nWuQhsCDw8P7xBvvlDVW4qqJqFyAsPDw8Nb4/VSwnxsVl3Aqo7H8PDw8DZ4vbL1bMv11KisnCrw8PDwFnh5qpj8ZN62SJITHh4e3pu8alif7HlNEkavCYKHh4d3lpe3BvKWbq8Qn7QeLn8FDw8Pb4FXbUxMyt9e8d17uHh4eHh7vOqwahLce82Iydnw8PDw3uFNFqd67YnJ0tXDA8XDw8Nb4CU36g3y8wZHEugni1x4eHh47/CqA7A8kVRXrHqLC3h4eHjbvGr47hXQSfk7X97Cw8PD2+Plobk6qq+OqaqNj6jEx8PDw1vg9QJ3PqzqgQ83I/Dw8PDWeL3uRXWoXx78j0+Ih4eH9z5v0nKtjrXy9sdoXQAPDw/vEC//gXmLdjJOK194eHh4R3nfxat3h3mj9qHdcDW0w8PDw1vg9WJsL5RXU0UVP0oneHh4eEVeNaznwTdf5Oq1LaK/Gx4eHt4aLy92J6sAeYif9B/w8PDwPo1XLXzn98nPg4eHh/eZvF5rtdrayFcQHlILHh4e3hovbwT0mguTiX/+sEZtXDw8PLxa9C78kz9fkKouFpxtWODh4eENeH8AJj8W25od9FcAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.6.17"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.17" async></script>










</body>
</html>
