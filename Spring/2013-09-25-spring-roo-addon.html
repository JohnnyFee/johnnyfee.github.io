<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-43567748-2', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="true">
    
    
    
    <title>Spring Roo 插件 | Balance | 大道至简</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="spring,roo,addon">
    <meta name="description" content="###插件实现原理
Roo add-ons are “tool-time” features—they’re wired into the shell as OSGi bundles,which are special JAR files that can be loaded and unloaded at will from an OSGicompliantapplication. 
OSGi">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Roo 插件">
<meta property="og:url" content="http://blog.inching.org/Spring/2013-09-25-spring-roo-addon.html">
<meta property="og:site_name" content="Balance">
<meta property="og:description" content="###插件实现原理
Roo add-ons are “tool-time” features—they’re wired into the shell as OSGi bundles,which are special JAR files that can be loaded and unloaded at will from an OSGicompliantapplication. 
OSGi">
<meta property="og:updated_time" content="2017-11-05T08:22:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Spring Roo 插件">
<meta name="twitter:description" content="###插件实现原理
Roo add-ons are “tool-time” features—they’re wired into the shell as OSGi bundles,which are special JAR files that can be loaded and unloaded at will from an OSGicompliantapplication. 
OSGi">
    
        <link rel="alternate" type="application/atom+xml" title="Balance" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.6.17">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Cody Fei</h5>
          <a href="mailto:inchingcode@gmail.com" title="inchingcode@gmail.com" class="mail">inchingcode@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags/android"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/Android/"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/inchingorg" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/CodyFee" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.inesoi.com" target="_blank" >
                <i class="icon icon-lg icon-shopping-bag"></i>
                Shopping Bag
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Spring Roo 插件</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Spring Roo 插件</h1>
        <h5 class="subtitle">
            
                <time datetime="2013-09-24T16:00:00.000Z" itemprop="datePublished" class="page-time">
  2013-09-25
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Spring/">Spring</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
<article id="post-spring-roo-addon"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Spring Roo 插件</h1>
        <div class="post-meta">
            <time class="post-time" title="2013-09-25 00:00:00" datetime="2013-09-24T16:00:00.000Z"  itemprop="datePublished">2013-09-25</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Spring/">Spring</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>###插件实现原理</p>
<p>Roo add-ons are “tool-time” features—they’re wired into the shell as <strong>OSGi</strong> bundles,<br>which are special JAR files that can be loaded and unloaded at will from an OSGicompliant<br>application. </p>
<p>OSGi is a dynamic module system for Java. It allows Java applications to load, start,<br>stop, update, and unload artifacts such as JARs and WARs on the fly, without stopping<br>and restarting. Think of it as a dynamic, class-loading system that’s smart enough to<br>resolve complex dependencies. You use OSGi in many applications today, including<br>Eclipse, which the SpringSource Tool Suite is based on, and which runs with a small<br>application core under the Equinox OSGi container.</p>
<p>###插件列表</p>
<pre><code>addon list
</code></pre><ul>
<li>–compatibleOnly—Show only compatible add-ons.</li>
<li>–trustedOnly—Show only add-ons by trusted developers.</li>
<li>–communityOnly—Show only add-ons contributed to the system by the outside<br>community. Some of the add-ons available include upgrades of key Roo components<br>and optional JARs, so this option weeds out internal JARs from the list.</li>
<li>–linesPerResult—By default, Roo shows only two comment lines. If an addon<br>has more documentation, you can expand the number of rows to read the<br>result.</li>
<li>–refresh—The list of add-ons are loaded on startup. Use this option to force<br>a reload of the list.</li>
</ul>
<a id="more"></a>
<p>###搜索插件</p>
<p>搜索git相关的插件</p>
<pre><code>addon search --requiresDescription git
</code></pre><p>###查看插件信息</p>
<p>查看id为37的插件信息</p>
<pre><code>addon info id --searchResultId  37
</code></pre><p>###安装插件</p>
<p>提供四种方式安装插件</p>
<ul>
<li><code>addon install</code> install it from the central Roo add-on repository</li>
<li><code>osgi start</code> install add-ons from a URL or a file</li>
<li><code>osgi obr</code> mount an OSGi repository and install<br>the add-on from that repository. Useful in a corporate environment where your<br>team needs to share company-wide add-ons.</li>
<li>Copy the add-on JAR file to the Roo installation’s bundles directory.</li>
</ul>
<p>安装git插件</p>
<p>查找git插件的id</p>
<pre><code>addon search --requiresCommand git
</code></pre><p>根据插件ID安装</p>
<pre><code>addon install id --searchResultId 01
</code></pre><p>也可以根据插件信息的BSN安装</p>
<pre><code>addon install bundle --bundleSymbolicName org.springframework.roo.addon.git
</code></pre><p>通过BSN的方式可以不依赖于ID，因为ID并不是插件的唯一标识，通过addon search和addon list得到的同一个插件ID可能不同。通过BSN的方式也可以多条脚本语句同时执行。</p>
<p>安装完成后，通过</p>
<pre><code>roo&gt; [TAB]
</code></pre><p>便可看到git命令了。</p>
<p>###升级插件</p>
<p>查看所有可以升级的插件</p>
<pre><code>addon upgrade available
</code></pre><p>查看所有RELEASE级别的可升级插件</p>
<pre><code>addon upgrade available --addonStabilityLevel RELEASE
</code></pre><p>其他级别可通过</p>
<pre><code>addon upgrade available --addonStabilityLevel [TAB]
</code></pre><p>If you accidentally upgrade your Roo artifacts and the shell won’t start properly, you can go back to the original installed version by deleting the contents of the cache directory in your Roo installation directory.    </p>
<p>升级所有插件</p>
<pre><code>addon upgrade all
</code></pre><p>###删除插件</p>
<p>删除git插件</p>
<pre><code>addon remove --bundleSymbolicName org.springframework.roo.addons.git
</code></pre><p>查看所有可删除的插件</p>
<pre><code>addon remove --bundleSymbolicName [TAB]
</code></pre><p>###创建插件</p>
<p>以创建中文i18n插件为例</p>
<pre><code>mkdir chinese-i18n
cd chinese-i18n
</code></pre><p>拷贝中文图标cn.png到chinese-i18n中。<br>所有语言的图标可以从<a href="http://www.famfamfam.com/lab/icons/flags/" target="_blank" rel="external">http://www.famfamfam.com/lab/icons/flags/</a>下载。</p>
<p>创建中文消息文件messages_zh.properties</p>
<p>执行roo进入roo的上下文<br>执行以下代码，创建工程模板。</p>
<pre><code>addon create i18n --topLevelPackage org.rooinaction.addons.i18n.chinese --locale cn --messageBundle messages_zh.properties --language chinese --projectName rooinaction-chinese-language-addon --flaggraphic cn.png
</code></pre><p>该插件在google code上已提供，    <a href="https://code.google.com/p/spring-roo-addon-i18n-chinese/" target="_blank" rel="external">spring-roo-addon-i18n-chinese</a>。</p>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2017-11-05T08:22:17.000Z" itemprop="dateUpdated">2017-11-05 16:22:17</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/Spring/2013-09-25-spring-roo-addon.html" target="_blank" rel="external">http://blog.inching.org/Spring/2013-09-25-spring-roo-addon.html</a>
        
    </div>
    <footer>
        <a href="http://blog.inching.org">
            <img src="/img/avatar.png" alt="Cody Fei">
            Cody Fei
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/addon/">addon</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/roo/">roo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring/">spring</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/Spring/2013-09-25-spring-roo-addon.html&title=《Spring Roo 插件》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/Spring/2013-09-25-spring-roo-addon.html&title=《Spring Roo 插件》 — Balance&source=###插件实现原理
Roo add-ons are “tool-time” features—they’re wired into the shell a..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/Spring/2013-09-25-spring-roo-addon.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Spring Roo 插件》 — Balance&url=http://blog.inching.org/Spring/2013-09-25-spring-roo-addon.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/Spring/2013-09-25-spring-roo-addon.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/Android/2013-10-24-android-webview-websocket.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Android WebView WebSocket</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/Spring/2013-09-24-spring-roo-i18n.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Spring Roo 国际化</h4>
      </a>
    </div>
  
</nav>



    











</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.JPG" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.JPG" data-alipay="/img/alipay.JPG">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top" style="display:none">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>footer.license</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Cody Fei &copy; 2012 - 2017</span>
            <span style="display:none">
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/Spring/2013-09-25-spring-roo-addon.html&title=《Spring Roo 插件》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/Spring/2013-09-25-spring-roo-addon.html&title=《Spring Roo 插件》 — Balance&source=###插件实现原理
Roo add-ons are “tool-time” features—they’re wired into the shell a..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/Spring/2013-09-25-spring-roo-addon.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Spring Roo 插件》 — Balance&url=http://blog.inching.org/Spring/2013-09-25-spring-roo-addon.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/Spring/2013-09-25-spring-roo-addon.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACp0lEQVR42u3aQVLDMAwFUO5/adgyQ5N8SRaUmZcVQ5PWzwvb+dLHR3x9frvye67uv7/n6tP7Xx9deHh4eIOh/7zyr86H9fPT/MrHjIeHh7fNmyzfpzaVq6HnmwQeHh7ee/KqC/ccg4eHh/d/eZMt5P7b8v/g4eHhvQ9v8vJ/T0qm6f7/vc0JDw8Pb4+XBwrv8/dKfQ8PDw9vXFVPFtx8WHk429uWXjyLh4eHt8DrtQ70SlmTvSs/gr+4Hw8PD+/XeXtNUdWYOAks8PDw8H6H1wsg9oZSWPT38hU8PDy8IiMJCJJPq8WzCeyhvoeHh4d3iJcX8qvF/vzZfEKTxgI8PDy8bV41MK02NiVbxSS6LQfNeHh4eGPePGadhxSnAt/LdwU8PDy8Bd7GxpAv/RuTiIeHh7fHqy61vSNyL3rIg4mHdwU8PDy8BV5ebU++KG8dqA6rt5Hg4eHhneVVS02TYv/kV3LeZX0PDw8P7xCvenitLtaT4/LkKTw8PLw9Xt7SVG29qjYW9NoIHqYbDw8Pb5nXOwT3mqWqZbM84HgRRuDh4eEd5c2X8rz0lce41U1iRMLDw8Mb86pto5NYIQ9ze4EIHh4e3h4vL01Vp6M30/nkRr+Lh4eHt8xLylfVSCL5tmrBrBB84OHh4S3zNobY23JWAgg8PDy8o7xqwanXWJAU2HqByOVI8PDw8JZ5+cP5ZtBrApjU6/Dw8PD2eJ/FK6/ITwpm+bbxcEzHw8PDW+BVl9p5gJsfhauH6XyEeHh4eHNeHgFUY4hJvlrdfpqtA3h4eHgDXnWZznnzRoRjWQseHh7eH/F67VBJxHBqM8DDw8N7N161WDWfjl5jAR4eHt42Lw8jesWqpLWrd/h+KNTh4eHhLfDKr/fF8livgWAyoXh4eHhrvC94m5eEB36t8gAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.6.17"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.17" async></script>










</body>
</html>
