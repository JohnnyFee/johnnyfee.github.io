<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-43567748-2', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="true">
    
    
    
    <title>Qt QGraphicsWebView  | Balance | 大道至简</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="webkit,qt">
    <meta name="description" content="A lot of effort has been put into QtWebKit to make it attractive for use on mobile devices.
The goal of this tutorial is to help you understand the mobile features and how to make the best of them, in">
<meta property="og:type" content="article">
<meta property="og:title" content="Qt QGraphicsWebView ">
<meta property="og:url" content="http://blog.inching.org/Qt/2014-04-02-qt-webkit-graphicswebview.html">
<meta property="og:site_name" content="Balance">
<meta property="og:description" content="A lot of effort has been put into QtWebKit to make it attractive for use on mobile devices.
The goal of this tutorial is to help you understand the mobile features and how to make the best of them, in">
<meta property="og:updated_time" content="2017-11-05T08:22:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Qt QGraphicsWebView ">
<meta name="twitter:description" content="A lot of effort has been put into QtWebKit to make it attractive for use on mobile devices.
The goal of this tutorial is to help you understand the mobile features and how to make the best of them, in">
    
        <link rel="alternate" type="application/atom+xml" title="Balance" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/style/style.css?v=1.6.17">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Cody Fei</h5>
          <a href="mailto:inchingcode@gmail.com" title="inchingcode@gmail.com" class="mail">inchingcode@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags/android"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/Android/"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/inchingorg" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/CodyFee" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.inesoi.com" target="_blank" >
                <i class="icon icon-lg icon-shopping-bag"></i>
                Shopping Bag
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Qt QGraphicsWebView </div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Qt QGraphicsWebView </h1>
        <h5 class="subtitle">
            
                <time datetime="2014-04-01T16:00:00.000Z" itemprop="datePublished" class="page-time">
  2014-04-02
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Qt/">Qt</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Quick-Start"><span class="post-toc-text">Quick Start</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Demo"><span class="post-toc-text">Demo</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-qt-webkit-graphicswebview"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Qt QGraphicsWebView </h1>
        <div class="post-meta">
            <time class="post-time" title="2014-04-02 00:00:00" datetime="2014-04-01T16:00:00.000Z"  itemprop="datePublished">2014-04-02</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Qt/">Qt</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>A lot of effort has been put into <a href="http://qt-project.org/doc/qt-4.8/qtwebkit.html" target="_blank" rel="external">QtWebKit</a> to make it attractive for use on mobile devices.</p>
<p>The goal of this tutorial is to help you understand the mobile features and how to make the best of them, in other words, how to create a good mobile web view that can be used on touch devices.</p>
<p>If you want to target mobile devices you should consider using <a href="http://qt-project.org/doc/qt-4.8/qgraphicswebview.html" target="_blank" rel="external">QGraphicsWebView</a> instead of <a href="http://qt-project.org/doc/qt-4.8/qwebview.html" target="_blank" rel="external">QWebView</a>. Since <a href="http://qt-project.org/doc/qt-4.8/qwebview.html" target="_blank" rel="external">QWebView</a> is based on the <a href="http://qt-project.org/doc/qt-4.8/qwidget.html" target="_blank" rel="external">QWidget</a> system, it cannot easily support <strong>rotation, overlays, hardware accelerated compositing and tiling</strong>. If you need a <a href="http://qt-project.org/doc/qt-4.8/qwidget.html" target="_blank" rel="external">QWidget</a> anyway, you can always construct a <a href="http://qt-project.org/doc/qt-4.8/qgraphicsview.html" target="_blank" rel="external">QGraphicsView</a> (which is a <a href="http://qt-project.org/doc/qt-4.8/qwidget.html" target="_blank" rel="external">QWidget</a>) with a <a href="http://qt-project.org/doc/qt-4.8/qgraphicswebview.html" target="_blank" rel="external">QGraphicsWebView</a> inside.</p>
<a id="more"></a>
<p>The QGraphicsWebView class allows Web content to be added to a <a href="http://qt-project.org/doc/qt-4.8/graphicsview.html#graphicsview" target="_blank" rel="external">GraphicsView</a>.</p>
<p>An instance of this class renders Web content from a URL or supplied as data, using features of the <a href="http://qt-project.org/doc/qt-4.8/qtwebkit.html" target="_blank" rel="external">QtWebKit</a> module.</p>
<p>If the width and height of the item are not set, they will default to 800 and 600, respectively. If the Web page contents is larger than that, scrollbars will be shown if not disabled explicitly.</p>
<p>Many of the functions, signals and properties provided by <a href="http://qt-project.org/doc/qt-4.8/qwebview.html" target="_blank" rel="external">QWebView</a> are also available for this item, making it simple to adapt existing code to use QGraphicsWebView instead of <a href="qwebview.html">QWebView</a>.</p>
<p>The item uses a <a href="http://qt-project.org/doc/qt-4.8/qwebpage.html" target="_blank" rel="external">QWebPage</a> object to perform the rendering of Web content, and this can be obtained with the <a href="qgraphicswebview.html#page">page</a>() function, enabling the document itself to be accessed and modified.</p>
<p>As with <a href="http://qt-project.org/doc/qt-4.8/qwebview.html" target="_blank" rel="external">QWebView</a>, the item records the browsing history using a <a href="http://qt-project.org/doc/qt-4.8/qwebhistory.html" target="_blank" rel="external">QWebHistory</a> object, accessible using the <a href="http://qt-project.org/doc/qt-4.8/qgraphicswebview.html#history" target="_blank" rel="external">history</a>() function. The <a href="http://qt-project.org/doc/qt-4.8/qwebsettings.html" target="_blank" rel="external">QWebSettings</a> object that defines the configuration of the browser can be obtained with the <a href="http://qt-project.org/doc/qt-4.8/qgraphicswebview.html#settings" target="_blank" rel="external">settings</a> function, enabling features like plugin support to be customized for each item.</p>
<p>Loading, rendering, and laying out are blocking operations. Though barely noticeable on desktop machines, these operations can block for a long time on a mobile device, letting the user believe the application has become unresponsive. Additionally, scrolling will also stall when the user uses his fingers to scroll, leading to a bad user experience.</p>
<p>One way to overcome this issue, is to do all loading, laying out and painting (basically all non-UI related work) in another thread or process, and just blit the result from the web process/thread to the UI. <strong>There is research in progress to enable this for a future version of QtWebKit, using WebKit2</strong>, but for now, freezing the backing store can help when performing a zooming operation, for instance. This will be discussed later, in the Enabling the Tiling section.</p>
<blockquote>
<p>也就是说，对于WebKit2已经解决了这个问题了，何况现在的Webkit3。在使用Qt Creator 3.0 创建的时候。但使用Qt Creator 创建HTML5应用的时候却是用QGraphicsWebView，这是不是过期了的？</p>
</blockquote>
<p>参考：</p>
<ul>
<li><a href="http://qt-project.org/doc/qt-4.8/qgraphicswebview.html#details" target="_blank" rel="external">QGraphicsWebView Class Reference</a></li>
<li><a href="http://qt-project.org/doc/qt-4.8/qtwebkit-goes-mobile.html" target="_blank" rel="external">QtWebKit Goes Mobile</a></li>
</ul>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><pre><code>int main(int argc, char **argv)
 {
     QApplication app(argc, argv);
     const int width = 640;
     const int height = 480;

     QGraphicsScene scene;

     QGraphicsView view(&amp;scene);
     view.setFrameShape(QFrame::NoFrame);
     view.setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOff);
     view.setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);

     QGraphicsWebView webview;
     webview.resize(width, height);
     webview.load(QUrl(&quot;http://doc.qt.nokia.com/&quot;));

     scene.addItem(&amp;webview);

     view.resize(width, height);
     view.show();

     return app.exec();
 }
</code></pre><h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><ul>
<li><a href="http://www.jplayer.org/" target="_blank" rel="external">jPlayer : HTML5 Audio &amp; Video for jQuery</a></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2017-11-05T08:22:17.000Z" itemprop="dateUpdated">2017-11-05 16:22:17</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/Qt/2014-04-02-qt-webkit-graphicswebview.html" target="_blank" rel="external">http://blog.inching.org/Qt/2014-04-02-qt-webkit-graphicswebview.html</a>
        
    </div>
    <footer>
        <a href="http://blog.inching.org">
            <img src="/img/avatar.png" alt="Cody Fei">
            Cody Fei
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/qt/">qt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webkit/">webkit</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/Qt/2014-04-02-qt-webkit-graphicswebview.html&title=《Qt QGraphicsWebView 》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/Qt/2014-04-02-qt-webkit-graphicswebview.html&title=《Qt QGraphicsWebView 》 — Balance&source=A lot of effort has been put into QtWebKit to make it attractive for use on m..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/Qt/2014-04-02-qt-webkit-graphicswebview.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Qt QGraphicsWebView 》 — Balance&url=http://blog.inching.org/Qt/2014-04-02-qt-webkit-graphicswebview.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/Qt/2014-04-02-qt-webkit-graphicswebview.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/Web/2014-04-03-web-responsive-design.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">响应式设计</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/Qt/2014-04-02-qt-qml.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Qt Qml</h4>
      </a>
    </div>
  
</nav>



    











</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.JPG" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.JPG" data-alipay="/img/alipay.JPG">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top" style="display:none">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>footer.license</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Cody Fei &copy; 2012 - 2017</span>
            <span style="display:none">
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/Qt/2014-04-02-qt-webkit-graphicswebview.html&title=《Qt QGraphicsWebView 》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/Qt/2014-04-02-qt-webkit-graphicswebview.html&title=《Qt QGraphicsWebView 》 — Balance&source=A lot of effort has been put into QtWebKit to make it attractive for use on m..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/Qt/2014-04-02-qt-webkit-graphicswebview.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Qt QGraphicsWebView 》 — Balance&url=http://blog.inching.org/Qt/2014-04-02-qt-webkit-graphicswebview.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/Qt/2014-04-02-qt-webkit-graphicswebview.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACsElEQVR42u3ay27jQAwEwPz/T3uBvW6k7SY1jgPUnAw/oikH0NBNfn3F6/V3XT3z7+P7Z9p3Xu3hsYWHh4c32vrVml04B19dMf8S7/8CHh4e3jne/aYTdrLRq7/QHhjF4YGHh4f3o7zZhvKvJi/r8fDw8H4Xr/3Vn1/r/ip4eHh4n8ZLbuIzUhtYJAfSkawFDw8PL+a1DbBPeHywv4eHh4e36Kq3N+vN7XsfGX/zKTw8PLwDvLY11Rbi7dBVW6ZHcQYeHh7eMd4mWm2jgU1LLB8+wMPDwzvB22wr2dBsKCEZuooOJzw8PLwDvD3gRH58D9sMKODh4eHtec8GsvujZTaO8J//FR4eHt5h3qwN1g5mzQ6VPCy+PBjw8PDw1rz8MnlJnQQNeUw82wkeHh7eOV673XOv5iV1Hdri4eHhvZ2XR66zEHY/aDWcicDDw8Nb8GbNrTyqaMvx2ajWZQMMDw8P71FeezwkUWwSs94/k7fNoqvj4eHhHeO1he8Gs4kh6qYaHh4e3qO8TTuq3XobKMzK/WgyAg8PD+8hXv6zfxaz5iHCfld4eHh453ibG/Hrdp0OaouRLDw8PLxHeZsIdT8+NRsaSF7Fw8PDO8fL3/QK1ibqbWORNjrBw8PDO8HbNLHaG33Ul4sL7mhveHh4eA/xNsXxU8FrwmsLbjw8PLz38PJjYBYW5J9KHkfXwsPDwzvA26z8UGk/tR/bemDh4eHhXbznVa4kbkhGB9qsNT+oopIaDw8Pb8Frj4H9SEEbSbTlNR4eHt57eJuBgFno0MbHbfutKKzx8PDwFrxZtDobMpi1zYZZCx4eHt6P8tqhq7YobxtvUUsMDw8P7wN4M8ysFzf7Cr4JI/Dw8PAO8GZNr9nxkDe69m0zPDw8vBO8tgF2YiC15a26eXh4eHhz3h8Z/Ltg4YJdGwAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.6.17"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.17" async></script>










</body>
</html>
