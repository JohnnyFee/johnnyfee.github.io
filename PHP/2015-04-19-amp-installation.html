<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-43567748-2', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="true">
    
    
    
    <title>Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.10 Yosemite | Balance | 大道至简</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="mac,amp,php">
    <meta name="description" content="WAMP, MAMP, and LAMP are abbreviations for “Windows, Apache, MySQL, and PHP,” “Mac, Apache, MySQL, and PHP,” and “Linux, Apache, MySQL, and PHP.” These abbreviations describe a fully functioning setup">
<meta property="og:type" content="article">
<meta property="og:title" content="Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.10 Yosemite">
<meta property="og:url" content="http://blog.inching.org/PHP/2015-04-19-amp-installation.html">
<meta property="og:site_name" content="Balance">
<meta property="og:description" content="WAMP, MAMP, and LAMP are abbreviations for “Windows, Apache, MySQL, and PHP,” “Mac, Apache, MySQL, and PHP,” and “Linux, Apache, MySQL, and PHP.” These abbreviations describe a fully functioning setup">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/localhost-osx-apache.png">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/user-level-webroot-sites-folder.png">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/osx-yosemite-user-site.png">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/osx-htaccess-override.png">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/osx-yosemite-php-site.png">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/osx-yosemite-mysql-install.png">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/osx-yosemite-mysql-fail.png">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2014/10/osx-yosemite-mysql-uncheck-start-up-item.png">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/osx-yosemite-mysql1.png">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2013/08/phpmyadmin-set-new-server.png">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2013/08/phpmyadmin-set-new-server-mysql-password.png">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2013/08/phpmyadmin-save-config.png">
<meta property="og:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2013/08/phpmyadmin-4-no-frames.png">
<meta property="og:updated_time" content="2017-11-05T08:22:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.10 Yosemite">
<meta name="twitter:description" content="WAMP, MAMP, and LAMP are abbreviations for “Windows, Apache, MySQL, and PHP,” “Mac, Apache, MySQL, and PHP,” and “Linux, Apache, MySQL, and PHP.” These abbreviations describe a fully functioning setup">
<meta name="twitter:image" content="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/localhost-osx-apache.png">
    
        <link rel="alternate" type="application/atom+xml" title="Balance" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.6.17">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Cody Fei</h5>
          <a href="mailto:inchingcode@gmail.com" title="inchingcode@gmail.com" class="mail">inchingcode@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags/android"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/Android/"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/inchingorg" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/CodyFee" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.inesoi.com" target="_blank" >
                <i class="icon icon-lg icon-shopping-bag"></i>
                Shopping Bag
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.10 Yosemite</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.10 Yosemite</h1>
        <h5 class="subtitle">
            
                <time datetime="2015-04-18T16:00:00.000Z" itemprop="datePublished" class="page-time">
  2015-04-19
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/PHP/">PHP</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Apache-WebSharing"><span class="post-toc-text">Apache/WebSharing</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Document-Root"><span class="post-toc-text">Document Root</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#System-Level-Web-Root"><span class="post-toc-text">System Level Web Root</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#User-Level-Root"><span class="post-toc-text">User Level Root</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Override-htaccess-and-allow-URL-Rewrites"><span class="post-toc-text">Override .htaccess and allow URL Rewrites</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#PHP"><span class="post-toc-text">PHP</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#MySQL"><span class="post-toc-text">MySQL</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Starting-MySQL"><span class="post-toc-text">Starting MySQL</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Set-the-MySQL-root-password"><span class="post-toc-text">Set the MySQL root password</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Fix-the-2002-MySQL-Socket-error"><span class="post-toc-text">Fix the 2002 MySQL Socket error</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#AutoStarting-MySQL-on-Reboot"><span class="post-toc-text">AutoStarting MySQL on Reboot</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#phpMyAdmin"><span class="post-toc-text">phpMyAdmin</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Permissions"><span class="post-toc-text">Permissions</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-amp-installation"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.10 Yosemite</h1>
        <div class="post-meta">
            <time class="post-time" title="2015-04-19 00:00:00" datetime="2015-04-18T16:00:00.000Z"  itemprop="datePublished">2015-04-19</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/PHP/">PHP</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>WAMP, MAMP, and LAMP are abbreviations for “Windows, Apache, MySQL, and PHP,” “Mac, Apache, MySQL, and PHP,” and “Linux, Apache, MySQL, and PHP.” These abbreviations describe a fully functioning setup used for developing dynamic Internet web pages.</p>
<p>See: <a href="http://coolestguidesontheplanet.com/get-apache-mysql-php-phpmyadmin-working-osx-10-10-yosemite/" target="_blank" rel="external">Apache, MySQL, PHP and phpMyAdmin on OSX 10.10 Yosemite for Local Development</a></p>
<p>With Apples’ new OSX 10.10 Yosemite out of the bag, getting the <strong>AMP</strong> stack up and running on the new OSX may cause a few bumps on the upgrade from <a href="http://coolestguidesontheplanet.com/get-apache-mysql-php-phpmyadmin-working-osx-10-9-mavericks/" title="Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.9 Mavericks" target="_blank" rel="external">OS X Mavericks 10.9</a>. This tutorial will go through the process on getting <strong>Apache, MySQL, PHP</strong> (or otherwise known as the ‘AMP’ stack) and <strong>phpMyAdmin</strong> running on the new Yosemite OS.</p>
<p>This tutorial sets up the AMP stack in more of a traditional way using the loaded Apache and PHP and downloading MySQL and phpMyAdmin.</p>
<h2 id="Apache-WebSharing"><a href="#Apache-WebSharing" class="headerlink" title="Apache/WebSharing"></a>Apache/WebSharing</h2><p>Their is no GUI to toggle Web Sharing on or off in OSX 10.10, which was previously a GUI <a href="http://support.apple.com/kb/HT5230?viewlocale=en_US&amp;locale=en_US" title="apple drop web sharing" target="_blank" rel="external">option</a> in System Preferences way back in 10.7, but fear not Apache is installed ready to be fired up.</p>
<p>This needs to be done in the Terminal which is found at <strong>/Applications/Utilities/Terminal</strong></p>
<p>For those not familiar with the Terminal, it really isn’t as intimidating as you may think, once launched you are faced with a command prompt waiting for your commands – just type/paste in a command and hit enter, some commands give you no response – it just means the command is done, other commands give you feedback – lets get to it….</p>
<p>to start it</p>
<pre><code>sudo apachectl start
</code></pre><p>to stop it</p>
<pre><code>sudo apachectl stop
</code></pre><p>to restart it</p>
<pre><code>sudo apachectl restart
</code></pre><p>To find the Apache version</p>
<pre><code>httpd -v
</code></pre><p>The Apache version that comes in OSX Yosemite is <strong>Apache/2.4.9</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/localhost-osx-apache.png" alt="localhost-osx-apache" title="">
                </div>
                <div class="image-caption">localhost-osx-apache</div>
            </figure>
<p>After starting <strong>Apache</strong> – test to see if the webserver is working in the browser – <a href="http://localhost" target="_blank" rel="external">http://localhost</a> – you should see the “It Works!” text.</p>
<h2 id="Document-Root"><a href="#Document-Root" class="headerlink" title="Document Root"></a>Document Root</h2><p>Document root is the location where the files are shared from the file system and is similar to the traditional names of ‘<strong>public_html</strong>‘ and ‘<strong>htdocs</strong>‘, OSX has historically had 2 web roots one at a system level and one at a user level – you can set both up or just run with one, the user level one allows multiple accounts to have their own web root whilst the system one is global for all users. It seems there is less effort from Apple in continuing with the user level one but it still can be set up with a couple of extra tweaks in configuration files. It is easier to use the user level one as you don’t have to keep on authenticating as an admin user.</p>
<h3 id="System-Level-Web-Root"><a href="#System-Level-Web-Root" class="headerlink" title="System Level Web Root"></a>System Level Web Root</h3><ul>
<li>the default system document root is still found at -</li>
</ul>
<p><strong><a href="http://localhost/" target="_blank" rel="external">http://localhost/</a></strong></p>
<p>The files are shared in the filing system at -</p>
<pre><code>/Library/WebServer/Documents/
</code></pre><h3 id="User-Level-Root"><a href="#User-Level-Root" class="headerlink" title="User Level Root"></a>User Level Root</h3><p>The other web root directory which is missing by default is the ‘<strong>~/Sites’</strong> folder in the User account. This takes a bit longer to set up but some users are very accustomed to using it.</p>
<p>You need to make a “<strong>Sites</strong>” folder at the root level of your account and then it will work. Once you make the Sites folder you will notice that it has a unique icon which is a throwback from a few versions older. Make that folder before you set up the user configuration file described next.</p>
<p>You have to make a few additional tweaks to get the <strong>~/Sites</strong> folder back up and running.</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/user-level-webroot-sites-folder.png" alt="user-level-webroot-sites-folder" title="">
                </div>
                <div class="image-caption">user-level-webroot-sites-folder</div>
            </figure>
<p>Add  a “username.conf” filed under:</p>
<pre><code>/etc/apache2/users/
</code></pre><p>If you don’t already have one (very likely), then create one named by the short username of the account with the suffix <strong>.conf</strong>, its location and permissions/ownership is best tackled by using the <strong>Terminal</strong>, the text editor ‘<strong>nano</strong>‘ would be the best tool to deal with this.</p>
<p>Launch <strong>Terminal</strong>, (Applications/Utilities), and follow the commands below, first one gets you to the right spot, 2nd one cracks open the text editor on the command line (swap ‘<strong>username</strong>‘ with your account’s shortname, if you don’t know your account shortname type ‘<em>whoami</em>‘ the Terminal prompt):</p>
<pre><code>cd /etc/apache2/users
sudo nano username.conf
</code></pre><p>Then add the content below swapping in your ‘<strong>username’</strong> in the code below:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;Directory &quot;/Users/username/Sites/&quot;&gt;</div><div class="line">AllowOverride All</div><div class="line">Options Indexes MultiViews FollowSymLinks</div><div class="line">Require all granted</div><div class="line">&lt;/Directory&gt;</div></pre></td></tr></table></figure>
<p>Permissions on the file should be:</p>
<pre><code>-rw-r--r--   1 root  wheel  298 Jun 28 16:47 username.conf
</code></pre><p>If not you need to change…</p>
<pre><code>sudo chmod 644 username.conf
</code></pre><p>Open the main <strong>httpd.conf</strong> and allow some modules:</p>
<pre><code>sudo nano /etc/apache2/httpd.conf
</code></pre><p>And make sure these 3 modules are uncommented (the first 2 should be on a clean install):</p>
<pre><code>LoadModule authz_core_module libexec/apache2/mod_authz_core.so
LoadModule authz_host_module libexec/apache2/mod_authz_host.so
LoadModule userdir_module libexec/apache2/mod_userdir.so
</code></pre><p>And also uncomment this configuration file also in <strong>httpd.conf</strong></p>
<pre><code>Include /private/etc/apache2/extra/httpd-userdir.conf
</code></pre><p>Then open another Apache config file and uncomment another file:</p>
<pre><code>sudo nano /etc/apache2/extra/httpd-userdir.conf
</code></pre><p>And uncomment:</p>
<pre><code>Include /private/etc/apache2/users/*.conf
</code></pre><p>Restart Apache for the new file to be read:</p>
<pre><code>sudo apachectl restart
</code></pre><p>Then this user level document root will be viewable at:</p>
<p><strong><a href="http://localhost/~username/" target="_blank" rel="external">http://localhost/~username/</a></strong></p>
<p>You should only see a directory tree like structure if the folder is empty.</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/osx-yosemite-user-site.png" alt="osx-yosemite-user-site" title="">
                </div>
                <div class="image-caption">osx-yosemite-user-site</div>
            </figure>
<h2 id="Override-htaccess-and-allow-URL-Rewrites"><a href="#Override-htaccess-and-allow-URL-Rewrites" class="headerlink" title="Override .htaccess and allow URL Rewrites"></a>Override .htaccess and allow URL Rewrites</h2><p>If you are going to use the document root at /Library/WebServer/Documents it is a good idea to allow any <strong>.htaccess</strong> files used to override the default settings – this can be accomplished by editing the <strong>httpd.conf</strong> file at line 217 and setting the <strong>AllowOverride</strong> to <strong>All</strong> and then restart Apache. This is already taken care of at the Sites level webroot by following the previous step.</p>
<pre><code>sudo nano /etc/apache2/httpd.conf
</code></pre><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/osx-htaccess-override.png" alt="osx-htaccess-override" title="">
                </div>
                <div class="image-caption">osx-htaccess-override</div>
            </figure>
<p>Also whilst here allow URL <strong>rewrites</strong> so your permalinks look clean not ugly.</p>
<p>Uncomment in httpd.conf</p>
<pre><code>LoadModule rewrite_module libexec/apache2/mod_rewrite.so
</code></pre><h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><p><strong>PHP 5.5.14</strong> is loaded in the final build of OSX 10.10 Yosemite and needs to be turned on by uncommenting a line in the <strong>httpd.conf</strong> file.</p>
<pre><code>sudo nano /etc/apache2/httpd.conf
</code></pre><p>Use “control” + “w” to search within <strong>nano</strong> and search for ‘php’ this will land you on the right line then uncomment the line (remove the #):</p>
<pre><code>LoadModule php5_module libexec/apache2/libphp5.so
</code></pre><p>Write out and Save using the nano short cut keys at the bottom ‘control o’ and ‘control x’</p>
<p>Reload apache to kick in</p>
<pre><code>sudo apachectl restart
</code></pre><p>To see and test PHP, create a file name it “phpinfo.php” and file it in your document root with the contents below, then view it in a browser.</p>
<pre><code>&lt;?php phpinfo(); ?&gt;
</code></pre><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/osx-yosemite-php-site.png" alt="osx-yosemite-php-site" title="">
                </div>
                <div class="image-caption">osx-yosemite-php-site</div>
            </figure>
<h2 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h2><p>MySQL is again a missing component in OS X 10.10 and needs to be <a href="http://dev.mysql.com/downloads/mysql/" target="_blank" rel="external">dowloaded from the MySQL site</a> use the <strong>Mac OS X ver. 10.9 (x86, 64-bit), DMG Archive</strong> version (works on 10.10). The latest version available is MySQL 5.6.21. Their is an issue with this version and Yosemite in that it won’t start on reboot – it will need to be started via command line explained below.</p>
<p>If you are upgrading from a previous OSX and have an older MySQL version you do not have to update it, it will work just with the same start up issue. One thing with MySQL upgrades always take a<a href="http://coolestguidesontheplanet.com/import-export-mysql-database-command-line/" title="Import / Export a mysql database on the command line" target="_blank" rel="external"> data dump of your database</a> in case things go south and before you upgrade to Yosemite make sure your MySQL Server is <strong>not</strong> running.</p>
<p>When downloading you don’t have to sign up, look for  – go straight to the download mirrors and download the software from a mirror which is closest to you.</p>
<p>Once downloaded open the .dmg and run the installer.</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/osx-yosemite-mysql-install.png" alt="sudo /usr/local/mysql/support-files/mysql.server start" title="">
                </div>
                <div class="image-caption">sudo /usr/local/mysql/support-files/mysql.server start</div>
            </figure>
<p>You will get a fail on the install but the software is still installed and useable, the reason is because the MySQL Start on Restart script fails.</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/osx-yosemite-mysql-fail.png" alt="osx-yosemite-mysql-fail" title="">
                </div>
                <div class="image-caption">osx-yosemite-mysql-fail</div>
            </figure>
<p>If you do a custom install simply unclick that start up item. When you restart your machine just remember to start MySQL either via System Prefs or command line</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2014/10/osx-yosemite-mysql-uncheck-start-up-item.png" alt="osx-yosemite-mysql-uncheck-start-up-item" title="">
                </div>
                <div class="image-caption">osx-yosemite-mysql-uncheck-start-up-item</div>
            </figure>
<h2 id="Starting-MySQL"><a href="#Starting-MySQL" class="headerlink" title="Starting MySQL"></a>Starting MySQL</h2><p>You can then start the MySQL server from the <strong>System Preferences</strong> or via the <strong>command line</strong> or if restarted it has to be <strong>command line</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2014/07/osx-yosemite-mysql1.png" alt="osx-yosemite-mysql" title="">
                </div>
                <div class="image-caption">osx-yosemite-mysql</div>
            </figure>
<p>Command line start MySQL.</p>
<pre><code>sudo /usr/local/mysql/support-files/mysql.server start
</code></pre><p>To find the MySQL version from the terminal, type at the prompt:</p>
<pre><code>/usr/local/mysql/bin/mysql -v
</code></pre><p>This also puts you in to a <em>shell</em> interactive dialogue with mySQL, type q to exit.</p>
<p>After installation, in order to use mysql commands without typing the full path to the commands you need to add the <a href="http://coolestguidesontheplanet.com/add-shell-path-osx/" title="What it is and How to Modify the Shell Path in OSX 10.10 Yosemite using Terminal" target="_blank" rel="external">mysql directory to your shell path</a>, (optional step) this is done in your “.bash_profile” file in your home directory, if you don’t have that file just create it using vi or nano:</p>
<pre><code>cd ; nano .bash_profile

export PATH=&quot;/usr/local/mysql/bin:$PATH&quot;
</code></pre><p>The first command brings you to your home directory and opens the .bash_profile file or creates a new one if it doesn’t exist, then add in the line above which adds the mysql binary path to commands that you can run. Exit the file with type “control + x” and when prompted save the change by typing “y”. Last thing to do here is to reload the shell for the above to work straight away.</p>
<pre><code>source ~/.bash_profile

mysql -v
</code></pre><p>You will get the version number again, just type “q” to exit.</p>
<h3 id="Set-the-MySQL-root-password"><a href="#Set-the-MySQL-root-password" class="headerlink" title="Set the MySQL root password"></a>Set the MySQL root password</h3><p>Note that this is not the same as the root or admin password of OSX – this is a unique password for the <strong>mysql root user</strong>, use one and remember/jot down somewhere what it is.</p>
<pre><code>/usr/local/mysql/bin/mysqladmin -u root password &apos;yourpasswordhere&apos;
</code></pre><h3 id="Fix-the-2002-MySQL-Socket-error"><a href="#Fix-the-2002-MySQL-Socket-error" class="headerlink" title="Fix the 2002 MySQL Socket error"></a>Fix the 2002 MySQL Socket error</h3><p>Fix the looming 2002 socket error – which is linking where MySQL places the socket and where OSX thinks it should be, MySQL puts it in <strong>/tmp</strong> and OSX looks for it in <strong>/var/mysql</strong> the socket is a type of file that allows mysql client/server communication.</p>
<pre><code>sudo mkdir /var/mysql
sudo ln -s /tmp/mysql.sock /var/mysql/mysql.sock
</code></pre><h3 id="AutoStarting-MySQL-on-Reboot"><a href="#AutoStarting-MySQL-on-Reboot" class="headerlink" title="AutoStarting MySQL on Reboot"></a>AutoStarting MySQL on Reboot</h3><p>There was a solution recently posted on how to autostart MySQL on reboot on Yosemite, if you follow this it will work:</p>
<pre><code>sudo nano /Library/LaunchDaemons/com.mysql.mysql.plist
</code></pre><p>And paste in:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--?xml version="1.0" encoding="UTF-8"?--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dict</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>KeepAlive<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">true</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>Label<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>com.mysql.mysqld<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>ProgramArguments<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">array</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">string</span>&gt;</span>/usr/local/mysql/bin/mysqld_safe<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">string</span>&gt;</span>--user=mysql<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">array</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Save it and then:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo chown root:wheel /Library/LaunchDaemons/com.mysql.mysql.plist</div><div class="line">sudo chmod 644 /Library/LaunchDaemons/com.mysql.mysql.plist</div><div class="line">sudo launchctl load -w /Library/LaunchDaemons/com.mysql.mysql.plist</div></pre></td></tr></table></figure>
<p>Then it will load on a restart.</p>
<h2 id="phpMyAdmin"><a href="#phpMyAdmin" class="headerlink" title="phpMyAdmin"></a>phpMyAdmin</h2><p><a href="http://www.coolestguyplanettech.com/installing-phpmyadmin-on-mac-osx-10-7-lion/" target="_blank" rel="external">phpMyAdmin is installed pretty much the same way as before</a>.</p>
<p>Fix the 2002 socket error first if you haven’t done so from the MySQL section-</p>
<pre><code>sudo mkdir /var/mysql

sudo ln -s /tmp/mysql.sock /var/mysql/mysql.sock
</code></pre><p>Download <a href="http://www.phpmyadmin.net/home_page/downloads.php" title="phpmyadmin download" target="_blank" rel="external">phpMyAdmin</a>, the zip English package will suit a lot of users, then unzip it and move the folder with its contents into the document root level renaming folder to ‘phpmyadmin’.</p>
<p>Make the <strong>config</strong> folder</p>
<pre><code>mkdir ~/Sites/phpmyadmin/config
</code></pre><p>Change the permissions</p>
<pre><code>chmod o+w ~/Sites/phpmyadmin/config
</code></pre><p>Run the set up in the browser</p>
<p><a href="http://localhost/~username/phpmyadmin/setup/" target="_blank" rel="external">http://localhost/~username/phpmyadmin/setup/</a> or <a href="http://localhost/phpmyadmin/setup/" target="_blank" rel="external">http://localhost/phpmyadmin/setup/</a></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2013/08/phpmyadmin-set-new-server.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>You need to create a new localhost mysql server connection, click new server.</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2013/08/phpmyadmin-set-new-server-mysql-password.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>Switch to the <strong>Authentication</strong> tab and set the local mysql root user and the password.<br>Add in the username “root” (maybe already populated, add in the password that you set up <strong><a href="http://coolestguidesontheplanet.com/get-apache-mysql-php-phpmyadmin-working-osx-10-10-yosemite/#password" target="_blank" rel="external">earlier</a></strong> for the MySQL root user set up, click on save and you are returned to the previous screen.<br>(This is not the OSX Admin or root password – it is the MySQL root user).</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2013/08/phpmyadmin-save-config.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>Make sure you click on <strong>save</strong>, then a config.inc.php is now in the /config directory of phpmyadmin directory,  /config directory.</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://coolestguidesontheplanet.com/wp-content/uploads/2013/08/phpmyadmin-4-no-frames.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>To upgrade phpmyadmin just download the latest version and copy the older ‘<strong>config.inc.php</strong>‘ from the existing directory into the new folder and replace – backup the older one just in case.</p>
<h2 id="Permissions"><a href="#Permissions" class="headerlink" title="Permissions"></a>Permissions</h2><p>To run a website with no permission issues it is best to set the web root and its contents to be writeable by all, since it’s a local development it should’nt be a security issue.</p>
<p>Lets say that you have a site in the <strong>User Sites</strong> folder at the following location <strong>~/Sites/testsite</strong> you would set it to be writeable like so:</p>
<pre><code>sudo chmod -R a+w ~/Sites/testsite
</code></pre><p>If you are concerned about security then instead of making it world writeable you can set the owner to be Apache <strong>_www</strong> but when working on files you would have to authenticate more as admin you are “not” the owner, you would do this like so:</p>
<pre><code>sudo chown -R _www ~/Sites/testsite
</code></pre><p>This will set the contents recursively to be owned by the Apache user.</p>
<p>If you had the website stored at the <strong>System</strong> level Document root at say <strong>/Library/WebServer/Documents/testsite</strong> then it would have to be the latter:</p>
<pre><code>sudo chown -R _www /Library/WebServer/Documents/testsite
</code></pre><p>Another easier way to do this if you have a one user workstation is to change the <a href="http://coolestguidesontheplanet.com/set-virtual-hosts-apache-mac-osx-10-10-yosemite/#apacheuser" target="_blank" rel="external">Apache web user from _www to your account</a>.</p>
<p>That’s it! You now have the native AMP stack running ontop of OSX Yosemite. <a href="http://coolestguidesontheplanet.com/set-virtual-hosts-apache-mac-osx-10-10-yosemite/" title="How to set up Virtual Hosts in Apache on Mac OSX 10.10 Yosemite" target="_blank" rel="external">To get Virtual Hosts going there is a further guide here.</a></p>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2017-11-05T08:22:17.000Z" itemprop="dateUpdated">2017-11-05 16:22:17</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/PHP/2015-04-19-amp-installation.html" target="_blank" rel="external">http://blog.inching.org/PHP/2015-04-19-amp-installation.html</a>
        
    </div>
    <footer>
        <a href="http://blog.inching.org">
            <img src="/img/avatar.png" alt="Cody Fei">
            Cody Fei
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/amp/">amp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mac/">mac</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/PHP/2015-04-19-amp-installation.html&title=《Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.10 Yosemite》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/PHP/2015-04-19-amp-installation.html&title=《Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.10 Yosemite》 — Balance&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/PHP/2015-04-19-amp-installation.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.10 Yosemite》 — Balance&url=http://blog.inching.org/PHP/2015-04-19-amp-installation.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/PHP/2015-04-19-amp-installation.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/PHP/2015-04-19-mac-amp-wordpress.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Fastest Way to install WordPress on OSX</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/uncategorized/2015-04-10-html-websql.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">WebSQL Databases</h4>
      </a>
    </div>
  
</nav>



    











</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.JPG" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.JPG" data-alipay="/img/alipay.JPG">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top" style="display:none">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>footer.license</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Cody Fei &copy; 2012 - 2017</span>
            <span style="display:none">
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/PHP/2015-04-19-amp-installation.html&title=《Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.10 Yosemite》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/PHP/2015-04-19-amp-installation.html&title=《Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.10 Yosemite》 — Balance&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/PHP/2015-04-19-amp-installation.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Get Apache, MySQL, PHP and phpMyAdmin working on OSX 10.10 Yosemite》 — Balance&url=http://blog.inching.org/PHP/2015-04-19-amp-installation.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/PHP/2015-04-19-amp-installation.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACLklEQVR42u3aQW7DMAwFUd//0u62QCtnPikHkDRaFUka82nBiKSuC6/716p9/u//jj7DnxIvGTJkLMu4H9fzZzqY5+/nscmQIeMcxigIki6LDw6pH2KWIUOGDBDEiPqcXjvPlSFDhoz069KilJe1MmTIkMGLWAKYdaB8sRaXIUPGggzedf/+36/MN2TIkLEU4w5XmnDTtl0xKhkyZGzN4AmOHxyfMXxUEF/+kCFDxtaMWuu/02ib1bC7+B7IkCFjcQZvx9eOhvzAlxbP//xuyJAhY1NGGiJPwXOTb3yIlCFDxhYMMjhEpWNY6JK9bF2zkCFDxkaMzkzwjZFkbftkyJCxNyNNkZ1w+6PKYcqWIUPGAYzaNYjOaIEMOIMSV4YMGVszeNLkh8L0ykVnpIp+B2TIkLE4Izh+4XI3Tc3kiR9ekSFDxgEMTkob+iksbe0NT7gyZMjYiEHeJm2yWtHbv6IhQ4aMcxiz0mVa3HbKYBkyZMjgV8RqiZJ/M39FhgwZezNqgZJGf+1AyQcJw96hDBkytmbwy2FoOopD6RTSMmTIOIfBL0n0j4BvbJYMGTJ2Zdzh4qNH3sRPBw8XD0KGDBlbMPiqtcZqwaXFswwZMk5g1K5k1QrUdMs4WIYMGScw+BWKWSPP2rFvuHEyZMiQUWqN1baARxVUyTJkyDiYkV5CJaHzUnlawpUhQ8YiDFLE1spdnqz5uzJkyDiNwUvH9DhINiV9YmuoKUOGjPUYP5fbk2EtdkWyAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.6.17"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.17" async></script>










</body>
</html>
