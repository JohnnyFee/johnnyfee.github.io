<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-43567748-2', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="true">
    
    
    
    <title>How to Install PHP 7, NGINX &amp; MySQL 5.6 on CentOS/RHEL 7.1 &amp; 6.7 | Balance | 大道至简</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="php,nginx,centos,lamp">
    <meta name="description" content="See 

How To Install PHP 7, NGINX &amp;amp; MySQL 5.6 on CentOS/RHEL 7.1 &amp;amp; 6.7
CentOS 7 安裝 Apache + PHP 7 + MySQL + phpMyAdmin + FTP

Few days back PHP version 7.0 has been released. Which has number">
<meta property="og:type" content="article">
<meta property="og:title" content="How to Install PHP 7, NGINX & MySQL 5.6 on CentOS/RHEL 7.1 & 6.7">
<meta property="og:url" content="http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html">
<meta property="og:site_name" content="Balance">
<meta property="og:description" content="See 

How To Install PHP 7, NGINX &amp;amp; MySQL 5.6 on CentOS/RHEL 7.1 &amp;amp; 6.7
CentOS 7 安裝 Apache + PHP 7 + MySQL + phpMyAdmin + FTP

Few days back PHP version 7.0 has been released. Which has number">
<meta property="og:image" content="https://tecadmin.net/wp-content/uploads/2016/02/php7-nginx-centos.png">
<meta property="og:updated_time" content="2017-11-05T08:22:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How to Install PHP 7, NGINX & MySQL 5.6 on CentOS/RHEL 7.1 & 6.7">
<meta name="twitter:description" content="See 

How To Install PHP 7, NGINX &amp;amp; MySQL 5.6 on CentOS/RHEL 7.1 &amp;amp; 6.7
CentOS 7 安裝 Apache + PHP 7 + MySQL + phpMyAdmin + FTP

Few days back PHP version 7.0 has been released. Which has number">
<meta name="twitter:image" content="https://tecadmin.net/wp-content/uploads/2016/02/php7-nginx-centos.png">
    
        <link rel="alternate" type="application/atom+xml" title="Balance" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/style/style.css?v=1.6.17">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Cody Fei</h5>
          <a href="mailto:inchingcode@gmail.com" title="inchingcode@gmail.com" class="mail">inchingcode@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags/android"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/Android/"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/inchingorg" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/CodyFee" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.inesoi.com" target="_blank" >
                <i class="icon icon-lg icon-shopping-bag"></i>
                Shopping Bag
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">How to Install PHP 7, NGINX &amp; MySQL 5.6 on CentOS/RHEL 7.1 &amp; 6.7</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">How to Install PHP 7, NGINX &amp; MySQL 5.6 on CentOS/RHEL 7.1 &amp; 6.7</h1>
        <h5 class="subtitle">
            
                <time datetime="2017-04-30T16:00:00.000Z" itemprop="datePublished" class="page-time">
  2017-05-01
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/PHP/">PHP</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-1-Setup-Yum-Repository"><span class="post-toc-text">Step 1. Setup Yum Repository</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CentOS-RHEL-7"><span class="post-toc-text">CentOS / RHEL 7</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CentOS-RHEL-6"><span class="post-toc-text">CentOS / RHEL 6</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-2-Install-PHP-7"><span class="post-toc-text">Step 2. Install PHP 7</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-3-Install-NGINX"><span class="post-toc-text">Step 3. Install NGINX</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-4-Install-MySQL-5-6"><span class="post-toc-text">Step 4. Install MySQL 5.6</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-5-—-Setup-PHP-FPM"><span class="post-toc-text">Step 5 — Setup PHP-FPM</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-6-—-Create-Nginx-VirtualHost"><span class="post-toc-text">Step 6 — Create Nginx VirtualHost</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-7-–-Restart-Services"><span class="post-toc-text">Step 7 – Restart Services</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-8-Open-Port-in-Firewall"><span class="post-toc-text">Step 8. Open Port in Firewall</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-9-Verify-Setup"><span class="post-toc-text">Step 9. Verify Setup</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#FAQ"><span class="post-toc-text">FAQ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Update-php"><span class="post-toc-text">Update php</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#centos-nginx-bind-to-0-0-0-0-8090-failed-13-Permission-denied"><span class="post-toc-text">centos nginx bind() to 0.0.0.0:8090 failed (13: Permission denied)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#SElinux-error-ValueError-Port-tcp-5000-already-defined"><span class="post-toc-text">SElinux error :ValueError: Port tcp/5000 already defined</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ERROR-1396-HY000-Operation-CREATE-USER-failed-for-‘xxx’-’localhost’"><span class="post-toc-text">ERROR 1396 (HY000): Operation CREATE USER failed for ‘xxx’@’localhost’</span></a></li></ol></li></ol>
        </nav>
    </aside>
    
<article id="post-centos7-nginx-lamp"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">How to Install PHP 7, NGINX & MySQL 5.6 on CentOS/RHEL 7.1 & 6.7</h1>
        <div class="post-meta">
            <time class="post-time" title="2017-05-01 00:00:00" datetime="2017-04-30T16:00:00.000Z"  itemprop="datePublished">2017-05-01</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/PHP/">PHP</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>See </p>
<ul>
<li><a href="https://tecadmin.net/install-php-7-nginx-mysql-5-on-centos/#" target="_blank" rel="external">How To Install PHP 7, NGINX &amp; MySQL 5.6 on CentOS/RHEL 7.1 &amp; 6.7</a></li>
<li><a href="https://jsnwork.kiiuo.com/archives/2118/centos-7-%E5%AE%89%E8%A3%9D-apache-php-mysql-phpmyadmin-ftp" target="_blank" rel="external">CentOS 7 安裝 Apache + PHP 7 + MySQL + phpMyAdmin + FTP</a></li>
</ul>
<p>Few days back PHP version 7.0 has been released. Which has number of changes and improvements  over PHP version 5.X.  This article will help you to install  PHP 7, NGINX and  MySQL 5.6 on CentOS / RHEL 7.1 &amp; 6.7 operating systems. This tutorial has been tested with CentOS 7.1, so all the services command are used with systemctl, For CentOS 6 users change all <strong>systemctl</strong> command correspondence <strong>service</strong> command.</p>
<a id="more"></a>
<h2 id="Step-1-Setup-Yum-Repository"><a href="#Step-1-Setup-Yum-Repository" class="headerlink" title="Step 1. Setup Yum Repository"></a>Step 1. Setup Yum Repository</h2><p>In the first step install all the required yum repositories in your system used in remaining tutorial for various installations. You are adding REMI, EPEL, Webtatic &amp; MySQL community server repositories in your system.</p>
<h3 id="CentOS-RHEL-7"><a href="#CentOS-RHEL-7" class="headerlink" title="CentOS / RHEL 7"></a>CentOS / RHEL 7</h3><pre>
# yum install epel-release
# rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm
# rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm
# rpm -Uvh http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm
</pre>

<h3 id="CentOS-RHEL-6"><a href="#CentOS-RHEL-6" class="headerlink" title="CentOS / RHEL 6"></a>CentOS / RHEL 6</h3><pre>
# yum install epel-release
# rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm
# rpm -Uvh https://mirror.webtatic.com/yum/el6/latest.rpm
# rpm -Uvh http://repo.mysql.com/mysql-community-release-el6-5.noarch.rpm
</pre>

<h2 id="Step-2-Install-PHP-7"><a href="#Step-2-Install-PHP-7" class="headerlink" title="Step 2. Install PHP 7"></a>Step 2. Install PHP 7</h2><p>Now install php 7 packages from webtatic rpm repository using following command.</p>
<pre>
# yum install php70w
</pre>

<p>Now install required php modules. Use following command to list available modules in yum repositories.</p>
<pre>
# yum search php70w
</pre>

<p>Now check all listed modules in above command and install required modules like below.</p>
<pre>
# yum install php70w-mysql php70w-xml php70w-soap php70w-xmlrpc
# yum install php70w-mbstring php70w-json php70w-gd php70w-mcrypt
</pre>

<h2 id="Step-3-Install-NGINX"><a href="#Step-3-Install-NGINX" class="headerlink" title="Step 3. Install NGINX"></a>Step 3. Install NGINX</h2><p>NGINX is the popular web server used on Linux systems. Let’s install Nginx web server using following command on your system.</p>
<pre>
# yum install nginx
</pre>

<p>Now start nginx service and enable to start on boot using below commands.</p>
<pre>
# systemctl enable nginx.service
# systemctl start nginx.service
</pre>

<h2 id="Step-4-Install-MySQL-5-6"><a href="#Step-4-Install-MySQL-5-6" class="headerlink" title="Step 4. Install MySQL 5.6"></a>Step 4. Install MySQL 5.6</h2><p>In step 1 we already have installed required yum repository in your system. Lets use following command to install MySQL server on your system.</p>
<pre>
# yum install mysql-server
</pre>

<p>You need to execute mysql_secure_installation once after installation of MySQL server using following command. First it will prompt to set a password for root account, after that ask few questions, I suggest to say yes ( y ) for all.</p>
<pre>
# systemctl start mysqld.service
# mysql_secure_installation
</pre>

<p>Now restart MySQL service and enable to start on system boot.</p>
<pre>
# systemctl restart mysqld.service
# systemctl enable mysqld.service
</pre>

<p>See more <a href="https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-centos-7" target="_blank" rel="external">How To Install MySQL on CentOS 7</a></p>
<h2 id="Step-5-—-Setup-PHP-FPM"><a href="#Step-5-—-Setup-PHP-FPM" class="headerlink" title="Step 5 — Setup PHP-FPM"></a>Step 5 — Setup PHP-FPM</h2><p>Now use following command to install php7 fpm package using following command.</p>
<pre>
# yum install php70w-fpm
</pre>

<h2 id="Step-6-—-Create-Nginx-VirtualHost"><a href="#Step-6-—-Create-Nginx-VirtualHost" class="headerlink" title="Step 6 — Create Nginx VirtualHost"></a>Step 6 — Create Nginx VirtualHost</h2><p>Finally do the configuration of Nginx VirtualHost. For this example we are editing default configuration file.</p>
<pre>
$ sudo nano /etc/nginx/conf.d/example.conf
</pre>

<p>and make changes as below.</p>
<pre class="pretty">
server {
        listen   80;

        root /var/www;
        index index.php index.html index.htm;
        server_name  example.com www.example.com;

        location / {
                try_files $uri $uri/ /index.html;
        }

        error_page 404 /404.html;
        error_page 500 502 503 504 /50x.html;
        location = /50x.html {
              root /usr/share/nginx/www;
        }

        location ~ .php$ {
                try_files $uri =404;
                fastcgi_pass 127.0.0.1:9000;
                fastcgi_index index.php;
                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
                include fastcgi_params;
        }
}
</pre>

<p>You have to do the same changes in all Virtual Hosts configured.</p>
<h2 id="Step-7-–-Restart-Services"><a href="#Step-7-–-Restart-Services" class="headerlink" title="Step 7 – Restart Services"></a>Step 7 – Restart Services</h2><p>After installing all services on your  system, start all required services.</p>
<pre>
# systemctl restart nginx.service
# systemctl restart php-fpm.service
</pre>

<h2 id="Step-8-Open-Port-in-Firewall"><a href="#Step-8-Open-Port-in-Firewall" class="headerlink" title="Step 8. Open Port in Firewall"></a>Step 8. Open Port in Firewall</h2><p>Finally open firewall ports for http (80) and https (443) services using following command.</p>
<pre>
# firewall-cmd --permanent --zone=public --add-service=http
# firewall-cmd --permanent --zone=public --add-service=https
# firewall-cmd --reload
</pre>

<h2 id="Step-9-Verify-Setup"><a href="#Step-9-Verify-Setup" class="headerlink" title="Step 9. Verify Setup"></a>Step 9. Verify Setup</h2><p>Let’s check the installed versions of packages on system using following commands one by one.</p>
<pre>
# php -v

PHP 7.0.2 (cli) (built: Jan  9 2016 14:00:11) ( NTS )
Copyright (c) 1997-2015 The PHP Group
Zend Engine v3.0.0, Copyright (c) 1998-2015 Zend Technologies
</pre>

<pre>
# nginx -v

nginx version: nginx/1.6.3
</pre>

<p>Finally verify installation of PHP 7 with NGINX. Let’s create a file index.php on website document root using following content.</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">phpinfo();</div></pre></td></tr></table></figure>
<!-- [Format Time: 0.0018 seconds] -->
<p>Now browse this file in web browser. It will so all the details about version’s and installation.</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://tecadmin.net/wp-content/uploads/2016/02/php7-nginx-centos.png" alt="php7-nginx-centos" title="">
                </div>
                <div class="image-caption">php7-nginx-centos</div>
            </figure>
<p>You have successfully configured LEMP Stack setup on your CentOS / RHEL 7.1 &amp; 6.7 system.</p>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="Update-php"><a href="#Update-php" class="headerlink" title="Update php"></a>Update php</h3><p>If you have installed php in lower version, you can rm the outdated version:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum remove php* php-common</div></pre></td></tr></table></figure>
<p>If you don’t care the newest php version, you can use default version. See <a href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-on-centos-7" target="_blank" rel="external">How To Install Linux, Nginx, MySQL, PHP (LEMP) stack On CentOS 7</a></p>
<h3 id="centos-nginx-bind-to-0-0-0-0-8090-failed-13-Permission-denied"><a href="#centos-nginx-bind-to-0-0-0-0-8090-failed-13-Permission-denied" class="headerlink" title="centos nginx bind() to 0.0.0.0:8090 failed (13: Permission denied)"></a>centos nginx bind() to 0.0.0.0:8090 failed (13: Permission denied)</h3><p><a href="https://serverfault.com/questions/566317/nginx-no-permission-to-bind-port-8090-but-it-binds-to-80-and-8080" target="_blank" rel="external">nginx: no permission to bind port 8090 but it binds to 80 and 8080 - Server Fault</a></p>
<p>cnetos下修改端口成非常规端口出现报错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">2014/01/10 09:20:02 [emerg] 30181#0: bind() to 0.0.0.0:8090 failed (13: Permission denied)</div></pre></td></tr></table></figure>
<p>This will most likely be related to SELinux</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">semanage port -l | grep http_port_t</div><div class="line">http_port_t                    tcp      80, 81, 443, 488, 8008, 8009, 8443, 9000</div></pre></td></tr></table></figure>
<p>As you can see from the output above with SELinux in enforcing mode http is only allowed to bind to the listed ports. The solution is to add the ports you want to bind on to the list</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">semanage port -a -t http_port_t  -p tcp 8090</div></pre></td></tr></table></figure>
<p>will add port 8090 to the list.</p>
<p>如果出现 semanage command not found错误就执行  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y install policycoreutils-python</div></pre></td></tr></table></figure>
<p>See <a href="http://sharadchhetri.com/2014/10/07/semanage-command-found-centos-7-rhel-7/" target="_blank" rel="external">semanage command not found on CentOS 7 and RHEL 7</a></p>
<h3 id="SElinux-error-ValueError-Port-tcp-5000-already-defined"><a href="#SElinux-error-ValueError-Port-tcp-5000-already-defined" class="headerlink" title="SElinux error :ValueError: Port tcp/5000 already defined"></a>SElinux error :ValueError: Port tcp/5000 already defined</h3><p><a href="https://serverfault.com/questions/790404/selinux-error-valueerror-port-tcp-5000-already-defined" target="_blank" rel="external">httpd - SElinux error :ValueError: Port tcp/5000 already defined - Server Fault</a></p>
<p>On the systems I have to hand (C6, C7 and F24), tcp port 5000 has an SELinux context of <code>commplex_port_t</code>. This will be why, when you try to add it you get the error message </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/sbin/semanage: Port tcp/5000 already defined</div></pre></td></tr></table></figure>
<p>To change the context of tcp port 5000 from <code>commplex_port_t</code> to <code>http_port_t</code> you will need to use the -m | –modify switch</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">-m, --modify     Modify a OBJECT record NAME</div></pre></td></tr></table></figure>
<p>so</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">semanage port -m -t http_port_t -p tcp 5000</div></pre></td></tr></table></figure>
<p>should do what you want </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">semanage port -l | grep 5000</div><div class="line">http_port_t                tcp      5000, 80, 81, 443, 488, 8008, 8009, 8443, 9000</div></pre></td></tr></table></figure>
<h3 id="ERROR-1396-HY000-Operation-CREATE-USER-failed-for-‘xxx’-’localhost’"><a href="#ERROR-1396-HY000-Operation-CREATE-USER-failed-for-‘xxx’-’localhost’" class="headerlink" title="ERROR 1396 (HY000): Operation CREATE USER failed for ‘xxx’@’localhost’"></a>ERROR 1396 (HY000): Operation CREATE USER failed for ‘xxx’@’localhost’</h3><p>yes this bug is there. However, I found a small workaround.</p>
<ul>
<li>Assume the user is there, so drop the user</li>
<li>After deleting the user, there is need to flush the mysql privileges</li>
<li>Now create the user.</li>
</ul>
<p>That should solve it. Assuming we want to create the user admin @ localhost, these would be the commands:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">drop user admin@localhost;</div><div class="line">flush privileges;</div><div class="line">create user admin@localhost identified by &apos;_admins_password_&apos;</div></pre></td></tr></table></figure>
<p>See <a href="http://stackoverflow.com/questions/5555328/error-1396-hy000-operation-create-user-failed-for-jacklocalhost" target="_blank" rel="external">mysql - ERROR 1396 (HY000): Operation CREATE USER failed for ‘jack’@’localhost’ - Stack Overflow</a></p>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2017-11-05T08:22:17.000Z" itemprop="dateUpdated">2017-11-05 16:22:17</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/PHP/2017-05-01-centos7-nginx-lamp.html" target="_blank" rel="external">http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html</a>
        
    </div>
    <footer>
        <a href="http://blog.inching.org">
            <img src="/img/avatar.png" alt="Cody Fei">
            Cody Fei
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/centos/">centos</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lamp/">lamp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx/">nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html&title=《How to Install PHP 7, NGINX & MySQL 5.6 on CentOS/RHEL 7.1 & 6.7》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html&title=《How to Install PHP 7, NGINX & MySQL 5.6 on CentOS/RHEL 7.1 & 6.7》 — Balance&source=See 

How To Install PHP 7, NGINX &amp; MySQL 5.6 on CentOS/RHEL 7.1 &amp; 6...." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《How to Install PHP 7, NGINX & MySQL 5.6 on CentOS/RHEL 7.1 & 6.7》 — Balance&url=http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/Linux/2017-05-01-linux-find-out-what-is-using-tcp-port.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Linux: Find Out What Is Using TCP Port 80</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/Google/2017-05-01-google-cloud-compute-engine.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">GOOGLE COMPUTE ENGINE(GCE)注册开VPS教程</h4>
      </a>
    </div>
  
</nav>



    











</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.JPG" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.JPG" data-alipay="/img/alipay.JPG">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top" style="display:none">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>footer.license</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Cody Fei &copy; 2012 - 2017</span>
            <span style="display:none">
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html&title=《How to Install PHP 7, NGINX & MySQL 5.6 on CentOS/RHEL 7.1 & 6.7》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html&title=《How to Install PHP 7, NGINX & MySQL 5.6 on CentOS/RHEL 7.1 & 6.7》 — Balance&source=See 

How To Install PHP 7, NGINX &amp; MySQL 5.6 on CentOS/RHEL 7.1 &amp; 6...." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《How to Install PHP 7, NGINX & MySQL 5.6 on CentOS/RHEL 7.1 & 6.7》 — Balance&url=http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACFUlEQVR42u3aQY7DMAgF0N7/0hlptp1mPpBUiv28qlLV8esCYeD1itfxuz49f//2/fn5Due7XbYwMDAeyzhO16eXJb/t8fL9MTAwdmNUQ2EeHHt/QX42DAwMjF5qWAVMEkoMDAyMPLxe9S0GBgbG5BLbu6bmwfdLd3EMDIwHMqqNgW9+vrG/gYGB8RDGUVyToyRBvHkqDAyMpRlJE/H8efL6vIU5KcBhYGCsyphcU/NsrZp0lhulGBgYSzOqRfzzAJqUw3rtgd4fhIGBsQYjHyedp3p5MK3uiYGBsQNj3gzoJZS90FyYFsHAwFiIcWMlr1WYK7clMDAwtmTMa1l5KJ/cQzEwMHZg5AeqjkQkF+D5VRkDA2MHRrW4lpTJqrtVhzkwMDAwjnhdltLFjELVEAMDYyHGJNT2BiOqaWheBMTAwFibkYTLaoJYTS57LU8MDIzdGHc0KavtzF66iYGBsQOjGuB6Q2B52B1dZTEwMJZj5IWwO8pz+TX1nxNiYGBswEhKafOj9EbHCpVCDAyMRRn5ppNCWPlAMQwDA2MHxlFc1ZBaHfZKWgt//BYDA2NpRjXY9a6aVyF77QoMDIw1GPMgmxfXeiW8UXsAAwNjIUZ1JCJ/cTm694Y5MDAwMAaHq+akzWEODAwMjEsHv6phPWqCYmBgbMC4b5xrErILgxoYGBhLM3oDFlcF62qbYYTBwMB4HuMHtElBz7EDdRAAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.6.17"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.17" async></script>










</body>
</html>
