<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-43567748-2', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="true">
    
    
    
    <title>使用 Yoeman generator-angular-fullstack 生成工程的 Gruntfile 源码分析 | Balance | 大道至简</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="angular,fullstack,grunt,yo">
    <meta name="description" content="本文基于 使用 Yoeman generator-angular 生成工程的 Gruntfile 源码分析 中的一些内容，与其中重复的内容不再描述。
Yeoman 生成的 DaftMonk/generator-angular-fullstack 脚手架提供了 26 个任务配置和 4 个自定义任务。这 4 个自定义任务分贝为:">
<meta property="og:type" content="article">
<meta property="og:title" content="使用 Yoeman generator-angular-fullstack 生成工程的 Gruntfile 源码分析">
<meta property="og:url" content="http://blog.inching.org/Grunt/2014-11-25-grunt-angular-fullstack-yo.html">
<meta property="og:site_name" content="Balance">
<meta property="og:description" content="本文基于 使用 Yoeman generator-angular 生成工程的 Gruntfile 源码分析 中的一些内容，与其中重复的内容不再描述。
Yeoman 生成的 DaftMonk/generator-angular-fullstack 脚手架提供了 26 个任务配置和 4 个自定义任务。这 4 个自定义任务分贝为:">
<meta property="og:updated_time" content="2017-04-21T12:57:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="使用 Yoeman generator-angular-fullstack 生成工程的 Gruntfile 源码分析">
<meta name="twitter:description" content="本文基于 使用 Yoeman generator-angular 生成工程的 Gruntfile 源码分析 中的一些内容，与其中重复的内容不再描述。
Yeoman 生成的 DaftMonk/generator-angular-fullstack 脚手架提供了 26 个任务配置和 4 个自定义任务。这 4 个自定义任务分贝为:">
    
        <link rel="alternate" type="application/atom+xml" title="Balance" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.6.17">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Cody Fei</h5>
          <a href="mailto:inchingcode@gmail.com" title="inchingcode@gmail.com" class="mail">inchingcode@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags/android"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/Android/"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/inchingorg" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/CodyFee" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.inesoi.com" target="_blank" >
                <i class="icon icon-lg icon-shopping-bag"></i>
                Shopping Bag
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">使用 Yoeman generator-angular-fullstack 生成工程的 Gruntfile 源码分析</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">使用 Yoeman generator-angular-fullstack 生成工程的 Gruntfile 源码分析</h1>
        <h5 class="subtitle">
            
                <time datetime="2014-11-24T16:00:00.000Z" itemprop="datePublished" class="page-time">
  2014-11-25
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Grunt/">Grunt</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#build"><span class="post-toc-text">build</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#injector-less"><span class="post-toc-text">injector:less</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#concurrent-dist"><span class="post-toc-text">concurrent:dist</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#less"><span class="post-toc-text">less</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#injector"><span class="post-toc-text">injector</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#wiredep"><span class="post-toc-text">wiredep</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#useminPrepare"><span class="post-toc-text">useminPrepare</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ngtemplates"><span class="post-toc-text">ngtemplates</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#serve"><span class="post-toc-text">serve</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#env"><span class="post-toc-text">env</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#concurrent-debug"><span class="post-toc-text">concurrent:debug</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#nodemon"><span class="post-toc-text">nodemon</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#node-inspector"><span class="post-toc-text">node-inspector</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#express"><span class="post-toc-text">express</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#watch"><span class="post-toc-text">watch</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#express-keepalive"><span class="post-toc-text">express-keepalive</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#test"><span class="post-toc-text">test</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#FAQ"><span class="post-toc-text">FAQ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#拷贝字体"><span class="post-toc-text">拷贝字体</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#不拷贝-bower-components-到目标文件夹"><span class="post-toc-text">不拷贝 bower_components 到目标文件夹</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#TRAVIS-CI"><span class="post-toc-text">TRAVIS CI</span></a></li></ol></li></ol>
        </nav>
    </aside>
    
<article id="post-grunt-angular-fullstack-yo"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">使用 Yoeman generator-angular-fullstack 生成工程的 Gruntfile 源码分析</h1>
        <div class="post-meta">
            <time class="post-time" title="2014-11-25 00:00:00" datetime="2014-11-24T16:00:00.000Z"  itemprop="datePublished">2014-11-25</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Grunt/">Grunt</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>本文基于 <a href="http://inching.org/2014/11/06/grunt-angular-yo/" target="_blank" rel="external">使用 Yoeman generator-angular 生成工程的 Gruntfile 源码分析</a> 中的一些内容，与其中重复的内容不再描述。</p>
<p>Yeoman 生成的 <a href="https://github.com/DaftMonk/generator-angular-fullstack" target="_blank" rel="external">DaftMonk/generator-angular-fullstack</a> 脚手架提供了 26 个任务配置和 4 个自定义任务。这 4 个自定义任务分贝为:</p>
<a id="more"></a>
<ul>
<li>serve 启动服务器。<ul>
<li>default 调试前端代码。前端代码的修改会 livereload，后端代码的修改会导致重启服务。</li>
<li>dist 运行打包之后的版本。</li>
<li>debug 在浏览器中调试后端代码。前端代码的修改不会 livereload。</li>
</ul>
</li>
<li>test 测试<ul>
<li>default 服务端和客户端测试。</li>
<li>server 服务端测试。</li>
<li>client 客户端测试。</li>
<li>e2e e2e 测试。</li>
</ul>
</li>
<li>build 打包。前端打包到 <code>dist/public/</code> 下，后端打包到 <code>dist/server/</code> 下。</li>
<li>default jshint，测试，打包。</li>
</ul>
<h2 id="build"><a href="#build" class="headerlink" title="build"></a>build</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">grunt.registerTask(<span class="string">'build'</span>, [</div><div class="line">    <span class="comment">// 1. 清除 .tmp 和 dist 目录。</span></div><div class="line">    <span class="string">'clean:dist'</span>, </div><div class="line">  </div><div class="line">    <span class="comment">// 2. 将客户端的所有 less 文件导入到 `app.less` 中。</span></div><div class="line">    <span class="string">'injector:less'</span>, </div><div class="line">  </div><div class="line">    <span class="comment">// 3. 将 app.less 文件编译到 `.tmp/app/app.css` 中，压缩图片。</span></div><div class="line">    <span class="string">'concurrent:dist'</span>, </div><div class="line">  </div><div class="line">    <span class="comment">// 4. 将 `client/&#123;app,components&#125;` 中的所有 js 和 css 文件注入到 `client/index.html` 中。</span></div><div class="line">    <span class="string">'injector'</span>,</div><div class="line">  </div><div class="line">    <span class="comment">// 5. 在 `client/index.html` 中注入 bower 组件。 </span></div><div class="line">    <span class="string">'wiredep'</span>, </div><div class="line">  </div><div class="line">    <span class="comment">// 6. 修改 将 js 和 css 合并压缩到 `dist/public/app` 下的 Grunt 配置，由 `concat`、`uglify`、`cssmin` 组成。</span></div><div class="line">    <span class="string">'useminPrepare'</span>,</div><div class="line">  </div><div class="line">    <span class="comment">// 7. 为 `.tmp/` 中的 css 添加前缀。</span></div><div class="line">    <span class="string">'autoprefixer'</span>,</div><div class="line"></div><div class="line">    <span class="comment">// 8. 将模板文件压缩后添加到 &lt;!-- build:js(&#123;.tmp,client&#125;) app/app.js --&gt; 下。</span></div><div class="line">    <span class="string">'ngtemplates'</span>,</div><div class="line"></div><div class="line">    <span class="comment">// 9. 合并</span></div><div class="line">    <span class="string">'concat'</span>,</div><div class="line"></div><div class="line">    <span class="comment">// 10. 为 .tmp/concat/ 下的所有 js 模块重建依赖注入，以便混淆。</span></div><div class="line">    <span class="string">'ngAnnotate'</span>,</div><div class="line"></div><div class="line">    <span class="comment">// 11. 将 client/ 下的图标文件、bower_components、图片、字体、index.html</span></div><div class="line">    <span class="comment">// 和 .tmp 目录下生成的图片拷贝到 dist 目录。</span></div><div class="line">    <span class="comment">// 将 server 下的所有文件和 package.json 拷贝到 dist 下。</span></div><div class="line">    <span class="string">'copy:dist'</span>,</div><div class="line"></div><div class="line">    <span class="comment">// cdn 化</span></div><div class="line">    <span class="string">'cdnify'</span>,</div><div class="line"></div><div class="line">    <span class="comment">// 压缩 CSS</span></div><div class="line">    <span class="string">'cssmin'</span>,</div><div class="line"></div><div class="line">    <span class="comment">// 压缩混淆 JavaScript</span></div><div class="line">    <span class="string">'uglify'</span>,</div><div class="line"></div><div class="line">    <span class="comment">// 重命名 dist/public 下的资源文件</span></div><div class="line">    <span class="string">'rev'</span>,</div><div class="line"></div><div class="line">    <span class="comment">// 根据 useminPare 配置 和 rev 修改文件中的引用。</span></div><div class="line">    <span class="string">'usemin'</span></div><div class="line">  ]);</div></pre></td></tr></table></figure>
<h3 id="injector-less"><a href="#injector-less" class="headerlink" title="injector:less"></a>injector:less</h3><p><a href="https://github.com/klei/grunt-injector" target="_blank" rel="external">klei/grunt-injector</a> 用于将 html 依赖的 JavaScript 和 CSS 文件文件插入到指定的位置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">injector: &#123;</div><div class="line">      <span class="attr">options</span>: &#123;</div><div class="line"></div><div class="line">      &#125;,</div><div class="line"></div><div class="line">      <span class="comment">// Inject component less into app.less</span></div><div class="line">      less: &#123;</div><div class="line">        <span class="attr">options</span>: &#123;</div><div class="line">          <span class="attr">transform</span>: <span class="function"><span class="keyword">function</span>(<span class="params">filePath</span>) </span>&#123;</div><div class="line">            filePath = filePath.replace(<span class="string">'/client/app/'</span>, <span class="string">''</span>);</div><div class="line">            filePath = filePath.replace(<span class="string">'/client/components/'</span>, <span class="string">''</span>);</div><div class="line">            <span class="keyword">return</span> <span class="string">'@import \''</span> + filePath + <span class="string">'\';'</span>;</div><div class="line">          &#125;,</div><div class="line">          <span class="attr">starttag</span>: <span class="string">'// injector'</span>,</div><div class="line">          <span class="attr">endtag</span>: <span class="string">'// endinjector'</span></div><div class="line">        &#125;,</div><div class="line">        <span class="attr">files</span>: &#123;</div><div class="line">          <span class="string">'&lt;%= yeoman.client %&gt;/app/app.less'</span>: [</div><div class="line">            <span class="string">'&lt;%= yeoman.client %&gt;/&#123;app,components&#125;/**/*.less'</span>,</div><div class="line">            <span class="string">'!&lt;%= yeoman.client %&gt;/app/app.less'</span></div><div class="line">          ]</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<p>将 <code>client/{app,components}</code> 中除 <code>app.less</code> 外的其他 less 文件导入到 app.less 中。运行该任务后 app.less 中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// injector</div><div class="line">@import &apos;main/main.less&apos;;</div><div class="line">@import &apos;modal/modal.less&apos;;</div><div class="line">// endinjector</div></pre></td></tr></table></figure>
<h3 id="concurrent-dist"><a href="#concurrent-dist" class="headerlink" title="concurrent:dist"></a>concurrent:dist</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">concurrent: &#123;</div><div class="line">  <span class="attr">dist</span>: [</div><div class="line">    <span class="string">'less'</span>,</div><div class="line">    <span class="string">'imagemin'</span>,</div><div class="line">    <span class="string">'svgmin'</span></div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>并行执行：</p>
<ul>
<li>将 app.less 文件编译到 <code>.tmp/app/app.css</code> 中。</li>
<li>将图片压缩到 dist 目录下。</li>
<li>将 svg 压缩到 dist 目录下。</li>
</ul>
<h3 id="less"><a href="#less" class="headerlink" title="less"></a>less</h3><p><a href="https://github.com/gruntjs/grunt-contrib-less" target="_blank" rel="external">gruntjs/grunt-contrib-less</a> 用于编译 less 文件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Compiles Less to CSS</span></div><div class="line">    less: &#123;</div><div class="line">      <span class="attr">options</span>: &#123;</div><div class="line">        <span class="attr">paths</span>: [</div><div class="line">          <span class="string">'&lt;%= yeoman.client %&gt;/bower_components'</span>,</div><div class="line">          <span class="string">'&lt;%= yeoman.client %&gt;/app'</span>,</div><div class="line">          <span class="string">'&lt;%= yeoman.client %&gt;/components'</span></div><div class="line">        ]</div><div class="line">      &#125;,</div><div class="line">      <span class="attr">server</span>: &#123;</div><div class="line">        <span class="attr">files</span>: &#123;</div><div class="line">          <span class="string">'.tmp/app/app.css'</span> : <span class="string">'&lt;%= yeoman.client %&gt;/app/app.less'</span></div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>其中，<code>options.paths</code> 指定 <code>@import</code> 的搜索路径，默认值为源文件所在的目录。</p>
<p>less 任务将 app.less 文件编译到 <code>.tmp/app/app.css</code> 中。</p>
<h3 id="injector"><a href="#injector" class="headerlink" title="injector"></a>injector</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">injector: &#123;</div><div class="line">  <span class="attr">options</span>: &#123;</div><div class="line"></div><div class="line">  &#125;,</div><div class="line">  <span class="comment">// Inject application script files into index.html (doesn't include bower)</span></div><div class="line">  scripts: &#123;</div><div class="line">    <span class="attr">options</span>: &#123;</div><div class="line">      <span class="attr">transform</span>: <span class="function"><span class="keyword">function</span>(<span class="params">filePath</span>) </span>&#123;</div><div class="line">        filePath = filePath.replace(<span class="string">'/client/'</span>, <span class="string">''</span>);</div><div class="line">        filePath = filePath.replace(<span class="string">'/.tmp/'</span>, <span class="string">''</span>);</div><div class="line">        <span class="keyword">return</span> <span class="string">'&lt;script src="'</span> + filePath + <span class="string">'"&gt;&lt;/script&gt;'</span>;</div><div class="line">      &#125;,</div><div class="line">      <span class="attr">starttag</span>: <span class="string">'&lt;!-- injector:js --&gt;'</span>,</div><div class="line">      <span class="attr">endtag</span>: <span class="string">'&lt;!-- endinjector --&gt;'</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">files</span>: &#123;</div><div class="line">      <span class="string">'&lt;%= yeoman.client %&gt;/index.html'</span>: [</div><div class="line">          [<span class="string">'&#123;.tmp,&lt;%= yeoman.client %&gt;&#125;/&#123;app,components&#125;/**/*.js'</span>,</div><div class="line">           <span class="string">'!&#123;.tmp,&lt;%= yeoman.client %&gt;&#125;/app/app.js'</span>,</div><div class="line">           <span class="string">'!&#123;.tmp,&lt;%= yeoman.client %&gt;&#125;/&#123;app,components&#125;/**/*.spec.js'</span>,</div><div class="line">           <span class="string">'!&#123;.tmp,&lt;%= yeoman.client %&gt;&#125;/&#123;app,components&#125;/**/*.mock.js'</span>]</div><div class="line">        ]</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// Inject component less into app.less</span></div><div class="line">  less: &#123;</div><div class="line">    ...</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// Inject component css into index.html</span></div><div class="line">  css: &#123;</div><div class="line">    <span class="attr">options</span>: &#123;</div><div class="line">      <span class="attr">transform</span>: <span class="function"><span class="keyword">function</span>(<span class="params">filePath</span>) </span>&#123;</div><div class="line">        filePath = filePath.replace(<span class="string">'/client/'</span>, <span class="string">''</span>);</div><div class="line">        filePath = filePath.replace(<span class="string">'/.tmp/'</span>, <span class="string">''</span>);</div><div class="line">        <span class="keyword">return</span> <span class="string">'&lt;link rel="stylesheet" href="'</span> + filePath + <span class="string">'"&gt;'</span>;</div><div class="line">      &#125;,</div><div class="line">      <span class="attr">starttag</span>: <span class="string">'&lt;!-- injector:css --&gt;'</span>,</div><div class="line">      <span class="attr">endtag</span>: <span class="string">'&lt;!-- endinjector --&gt;'</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">files</span>: &#123;</div><div class="line">      <span class="string">'&lt;%= yeoman.client %&gt;/index.html'</span>: [</div><div class="line">        <span class="string">'&lt;%= yeoman.client %&gt;/&#123;app,components&#125;/**/*.css'</span></div><div class="line">      ]</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><code>injector:scripts</code> 将 <code>{.tmp, client}/{app,components}</code> 中的所有 js 文件（不包括测试、mock 文件、app.js）注入到 <code>client/index.html</code> 中的指定位置。</li>
<li><code>injector:less</code> 将 <code>client/{app,components}</code> 中除 <code>app.less</code> 外的其他 less 文件导入到 app.less 中。</li>
<li><code>injector:css</code> 将 <code>client/{app,components}</code> 中的所有 css 文件注入到 <code>client/index.html</code> 中的指定位置。</li>
</ul>
<p>至此，injector:less 执行两次，第二次其实无需重复运行。</p>
<h3 id="wiredep"><a href="#wiredep" class="headerlink" title="wiredep"></a>wiredep</h3><p>将 <code>bower.json</code> 中的组件注入到 <code>client/index.html</code> 中：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">wiredep: &#123;</div><div class="line">  <span class="attr">target</span>: &#123;</div><div class="line">    <span class="attr">src</span>: <span class="string">'&lt;%= yeoman.client %&gt;/index.html'</span>,</div><div class="line">    <span class="attr">ignorePath</span>: <span class="string">'&lt;%= yeoman.client %&gt;/'</span>,</div><div class="line">    <span class="attr">exclude</span>: [<span class="regexp">/bootstrap-sass-official/</span>, /bootstrap.js/, <span class="string">'/json3/'</span>, <span class="string">'/es5-shim/'</span>, /bootstrap.css/, /font-awesome.css/ ]</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>其中要排除 bootstrap、json3、es5-shim、font-awesome 相关的文件。bootstrap.css 和 font-awesome.css 通过 less 文件注入到 app.less 中，json3 和 es5-shim 通过判断 IE 版本手动引入。</p>
<h3 id="useminPrepare"><a href="#useminPrepare" class="headerlink" title="useminPrepare"></a>useminPrepare</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Reads HTML for usemin blocks to enable smart builds that automatically</span></div><div class="line"><span class="comment">// concat, minify and revision files. Creates configurations in memory so</span></div><div class="line"><span class="comment">// additional tasks can operate on them</span></div><div class="line">useminPrepare: &#123;</div><div class="line">  <span class="attr">html</span>: [<span class="string">'&lt;%= yeoman.client %&gt;/index.html'</span>],</div><div class="line">  <span class="attr">options</span>: &#123;</div><div class="line">    <span class="attr">dest</span>: <span class="string">'&lt;%= yeoman.dist %&gt;/public'</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>根据 HTML 的 usemin 块来修改 grunt 配置。</p>
<ul>
<li>将通过 wiredep 任务注入的 js 合并混淆压缩到 <code>dist/public/app/verdor.js</code> 中。</li>
<li>将通过 <code>injector:scripts</code> 注入的 js 和 <code>app.js</code> 合并混淆压缩到 <code>dist/public/app/app.js</code> 中。</li>
<li>将通过 wiredep 任务注入的 css 合并压缩到 <code>dist/public/app/vendor.css</code> 中。</li>
<li>将通过 <code>injector:css</code> 中注入 css 和 <code>app.js</code> 合并压缩到 <code>dist/public/app/app.css</code> 中。</li>
</ul>
<h3 id="ngtemplates"><a href="#ngtemplates" class="headerlink" title="ngtemplates"></a>ngtemplates</h3><p><a href="https://github.com/ericclemmons/grunt-angular-templates" target="_blank" rel="external">ericclemmons/grunt-angular-templates</a> 用于将所有的模板文件使用 <code>$templateCache</code> 整合到一个 JavaScript 文件中，这样，所有的模板请求无需发起 HTTP 请求，都在内存中加载。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Package all the html partials into a single javascript payload</span></div><div class="line">ngtemplates: &#123;</div><div class="line">  <span class="attr">options</span>: &#123;</div><div class="line">    <span class="comment">// This should be the name of your apps angular module</span></div><div class="line">    <span class="built_in">module</span>: <span class="string">'angularFullstack2App'</span>,</div><div class="line">    <span class="attr">htmlmin</span>: &#123;</div><div class="line">      <span class="attr">collapseBooleanAttributes</span>: <span class="literal">true</span>,</div><div class="line">      <span class="attr">collapseWhitespace</span>: <span class="literal">true</span>,</div><div class="line">      <span class="attr">removeAttributeQuotes</span>: <span class="literal">true</span>,</div><div class="line">      <span class="attr">removeEmptyAttributes</span>: <span class="literal">true</span>,</div><div class="line">      <span class="attr">removeRedundantAttributes</span>: <span class="literal">true</span>,</div><div class="line">      <span class="attr">removeScriptTypeAttributes</span>: <span class="literal">true</span>,</div><div class="line">      <span class="attr">removeStyleLinkTypeAttributes</span>: <span class="literal">true</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">usemin</span>: <span class="string">'app/app.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">main</span>: &#123;</div><div class="line">    <span class="attr">cwd</span>: <span class="string">'&lt;%= yeoman.client %&gt;'</span>,</div><div class="line">    <span class="attr">src</span>: [<span class="string">'&#123;app,components&#125;/**/*.html'</span>],</div><div class="line">    <span class="attr">dest</span>: <span class="string">'.tmp/templates.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">tmp</span>: &#123;</div><div class="line">    <span class="attr">cwd</span>: <span class="string">'.tmp'</span>,</div><div class="line">    <span class="attr">src</span>: [<span class="string">'&#123;app,components&#125;/**/*.html'</span>],</div><div class="line">    <span class="attr">dest</span>: <span class="string">'.tmp/tmp-templates.js'</span></div><div class="line">  &#125;</div><div class="line">&#125;,</div></pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li>options.module 指定 angular 模块名。</li>
<li>options.htmlmin 配置模板压缩选项。</li>
<li>options.usemin 指将生成的 js 添加 useminPrepare 生成的合并压缩配置，生成的模板文件会合并到 <code>app/app.js</code> 中。</li>
</ul>
<h2 id="serve"><a href="#serve" class="headerlink" title="serve"></a>serve</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line">grunt.registerTask(<span class="string">'serve'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">target</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (target === <span class="string">'dist'</span>) &#123;</div><div class="line">      <span class="keyword">return</span> grunt.task.run([<span class="string">'build'</span>, <span class="string">'env:all'</span>, <span class="string">'env:prod'</span>, <span class="string">'express:prod'</span>, <span class="string">'wait'</span>, <span class="string">'open'</span>, <span class="string">'express-keepalive'</span>]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (target === <span class="string">'debug'</span>) &#123;</div><div class="line">      <span class="keyword">return</span> grunt.task.run([</div><div class="line">        <span class="comment">// 1. 清除 .tmp 目录</span></div><div class="line">        <span class="string">'clean:server'</span>, </div><div class="line"></div><div class="line">        <span class="comment">// 2. 配置环境变量</span></div><div class="line">        <span class="string">'env:all'</span>,</div><div class="line"></div><div class="line">        <span class="comment">// 3. 将客户端的所有 less 文件导入到 `app.less` 中。</span></div><div class="line">        <span class="string">'injector:less'</span>,</div><div class="line"></div><div class="line">        <span class="comment">// 4. 将 app.less 文件编译到 `.tmp/app/app.css` 中。</span></div><div class="line">        <span class="string">'concurrent:server'</span>,</div><div class="line"></div><div class="line">        <span class="comment">// 5. 将 `client/&#123;app,components&#125;` 中的所有 js 和 css 文件注入到 `client/index.html` 中。</span></div><div class="line">        <span class="string">'injector'</span>,</div><div class="line"></div><div class="line">        <span class="comment">// 6. 在 `client/index.html` 中注入 bower 组件。 </span></div><div class="line">        <span class="string">'wiredep'</span>,</div><div class="line"></div><div class="line">        <span class="comment">// 7. 为 `.tmp/` 中的 css 添加前缀。</span></div><div class="line">        <span class="string">'autoprefixer'</span>,</div><div class="line"></div><div class="line">        <span class="comment">// 8. 使用 nodemon 启动服务器，启动 node-inspector 调试器</span></div><div class="line">        <span class="string">'concurrent:debug'</span></div><div class="line">      ]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    grunt.task.run([</div><div class="line">      <span class="comment">// 1. 清除 .tmp 目录</span></div><div class="line">      <span class="string">'clean:server'</span>,</div><div class="line"></div><div class="line">      <span class="comment">// 2. 配置环境变量</span></div><div class="line">      <span class="string">'env:all'</span>,</div><div class="line"></div><div class="line">      <span class="comment">// 3. 将客户端的所有 less 文件导入到 `app.less` 中。</span></div><div class="line">      <span class="string">'injector:less'</span>,</div><div class="line"></div><div class="line">      <span class="comment">// 4. 将 app.less 文件编译到 `.tmp/app/app.css` 中。</span></div><div class="line">      <span class="string">'concurrent:server'</span>,</div><div class="line"></div><div class="line">      <span class="comment">// 5. 将 `client/&#123;app,components&#125;` 中的所有 js 和 css 文件注入到 `client/index.html` 中。</span></div><div class="line">      <span class="string">'injector'</span>,</div><div class="line"></div><div class="line">      <span class="comment">// 6. 在 `client/index.html` 中注入 bower 组件。 </span></div><div class="line">      <span class="string">'wiredep'</span>,</div><div class="line"></div><div class="line">      <span class="comment">// 7. 为 `.tmp/` 中的 css 添加前缀。</span></div><div class="line">      <span class="string">'autoprefixer'</span>,</div><div class="line"></div><div class="line">      <span class="comment">// 8. 启动 express 服务器</span></div><div class="line">      <span class="string">'express:dev'</span>,</div><div class="line"></div><div class="line">      <span class="comment">// 服务重启之后，等待 1500ms。</span></div><div class="line">      <span class="string">'wait'</span>,</div><div class="line"></div><div class="line">      <span class="comment">// 打开应用首页</span></div><div class="line">      <span class="string">'open'</span>,</div><div class="line"></div><div class="line">      <span class="comment">// 各种监视</span></div><div class="line">      <span class="string">'watch'</span></div><div class="line">    ]);</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<h3 id="env"><a href="#env" class="headerlink" title="env"></a>env</h3><p><a href="https://github.com/jsoverson/grunt-env" target="_blank" rel="external">jsoverson/grunt-env</a> 用于为之后的任务配置环境变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">env: &#123;</div><div class="line">  <span class="attr">test</span>: &#123;</div><div class="line">    <span class="attr">NODE_ENV</span>: <span class="string">'test'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">prod</span>: &#123;</div><div class="line">    <span class="attr">NODE_ENV</span>: <span class="string">'production'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">all</span>: localConfig</div><div class="line">&#125;,</div><div class="line"></div><div class="line">localConfig = <span class="built_in">require</span>(<span class="string">'./server/config/local.env'</span>)</div></pre></td></tr></table></figure>
<p><em>local.env</em>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">DOMAIN</span>: <span class="string">'http://localhost:9000'</span>,</div><div class="line">  <span class="attr">SESSION_SECRET</span>: <span class="string">"angularfullstack2-secret"</span>,</div><div class="line">  <span class="comment">// Control debug level for modules using visionmedia/debug</span></div><div class="line">  DEBUG: <span class="string">''</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="concurrent-debug"><a href="#concurrent-debug" class="headerlink" title="concurrent:debug"></a>concurrent:debug</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">concurrent: &#123;</div><div class="line">    <span class="attr">debug</span>: &#123;</div><div class="line">        <span class="attr">tasks</span>: [</div><div class="line">          <span class="string">'nodemon'</span>,</div><div class="line">          <span class="string">'node-inspector'</span></div><div class="line">        ],</div><div class="line">        <span class="attr">options</span>: &#123;</div><div class="line">          <span class="attr">logConcurrentOutput</span>: <span class="literal">true</span></div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="nodemon"><a href="#nodemon" class="headerlink" title="nodemon"></a>nodemon</h3><p><a href="https://github.com/ChrisWren/grunt-nodemon" target="_blank" rel="external">ChrisWren/grunt-nodemon</a> 用于监视 nodejs 应用的文件修改，并自动重启服务，主要用于开发环境。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">nodemon: &#123;</div><div class="line">  <span class="attr">debug</span>: &#123;</div><div class="line">    <span class="attr">script</span>: <span class="string">'server/app.js'</span>,</div><div class="line">    <span class="attr">options</span>: &#123;</div><div class="line">      <span class="attr">nodeArgs</span>: [<span class="string">'--debug-brk'</span>],</div><div class="line">      <span class="attr">env</span>: &#123;</div><div class="line">        <span class="attr">PORT</span>: process.env.PORT || <span class="number">9000</span></div><div class="line">      &#125;,</div><div class="line">      <span class="attr">callback</span>: <span class="function"><span class="keyword">function</span> (<span class="params">nodemon</span>) </span>&#123;</div><div class="line">        nodemon.on(<span class="string">'log'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</div><div class="line">          <span class="built_in">console</span>.log(event.colour);</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        <span class="comment">// opens browser on initial server start</span></div><div class="line">        nodemon.on(<span class="string">'config:update'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">          setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="built_in">require</span>(<span class="string">'open'</span>)(<span class="string">'http://localhost:8080/debug?port=5858'</span>);</div><div class="line">          &#125;, <span class="number">500</span>);</div><div class="line">        &#125;);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>options.script</code> 指定 nodemon 运行和重启的脚本。</li>
<li><code>options.args</code> 是指传入脚本的参数列表。</li>
<li><code>options.nodeArgs</code> 传入 node 的参数列表。最常用的使用 <code>--debug</code> or <code>--debug-brk</code> 来启用一个调试服务器。</li>
<li><code>options.callback</code> 在上例中，在回调中记录 log，监听 <code>config:update</code> 事件，即 nodemon 服务器首次启动时触发，延时 500ms 在默认浏览器中打开指定 url。</li>
</ul>
<h3 id="node-inspector"><a href="#node-inspector" class="headerlink" title="node-inspector"></a>node-inspector</h3><p><a href="https://github.com/node-inspector/node-inspector" target="_blank" rel="external">node-inspector/node-inspector</a> 是基于 Blink 开发者工具的调试器。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Debugging with node inspector</span></div><div class="line"><span class="string">'node-inspector'</span>: &#123;</div><div class="line">  <span class="attr">custom</span>: &#123;</div><div class="line">    <span class="attr">options</span>: &#123;</div><div class="line">      <span class="string">'web-host'</span>: <span class="string">'localhost'</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="express"><a href="#express" class="headerlink" title="express"></a>express</h3><p><a href="https://github.com/blai/grunt-express" target="_blank" rel="external">blai/grunt-express</a> 用于启动一个 Express web 服务器。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">express: &#123;</div><div class="line">  <span class="attr">options</span>: &#123;</div><div class="line">    <span class="attr">port</span>: process.env.PORT || <span class="number">9000</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">dev</span>: &#123;</div><div class="line">    <span class="attr">options</span>: &#123;</div><div class="line">      <span class="attr">script</span>: <span class="string">'server/app.js'</span>,</div><div class="line">      <span class="attr">debug</span>: <span class="literal">true</span></div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">prod</span>: &#123;</div><div class="line">    <span class="attr">options</span>: &#123;</div><div class="line">      <span class="attr">script</span>: <span class="string">'dist/server/app.js'</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div></pre></td><td class="code"><pre><div class="line">watch: &#123;</div><div class="line">  <span class="comment">// 1. 监视需要通过 injector 注入的 JavaScript 文件，如果修改，重新注入。</span></div><div class="line">  injectJS: &#123;</div><div class="line">    <span class="attr">files</span>: [</div><div class="line">      <span class="string">'&lt;%= yeoman.client %&gt;/&#123;app,components&#125;/**/*.js'</span>,</div><div class="line">      <span class="string">'!&lt;%= yeoman.client %&gt;/&#123;app,components&#125;/**/*.spec.js'</span>,</div><div class="line">      <span class="string">'!&lt;%= yeoman.client %&gt;/&#123;app,components&#125;/**/*.mock.js'</span>,</div><div class="line">      <span class="string">'!&lt;%= yeoman.client %&gt;/app/app.js'</span>],</div><div class="line">    <span class="attr">tasks</span>: [<span class="string">'injector:scripts'</span>]</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// 2. 监视需要通过 injector 注入的 CSS 文件，如果修改，重新注入。</span></div><div class="line">  injectCss: &#123;</div><div class="line">    <span class="attr">files</span>: [</div><div class="line">      <span class="string">'&lt;%= yeoman.client %&gt;/&#123;app,components&#125;/**/*.css'</span></div><div class="line">    ],</div><div class="line">    <span class="attr">tasks</span>: [<span class="string">'injector:css'</span>]</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// 3. </span></div><div class="line">  mochaTest: &#123;</div><div class="line">    <span class="attr">files</span>: [<span class="string">'server/**/*.spec.js'</span>],</div><div class="line">    <span class="attr">tasks</span>: [<span class="string">'env:test'</span>, <span class="string">'mochaTest'</span>]</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// 4. </span></div><div class="line">  jsTest: &#123;</div><div class="line">    <span class="attr">files</span>: [</div><div class="line">      <span class="string">'&lt;%= yeoman.client %&gt;/&#123;app,components&#125;/**/*.spec.js'</span>,</div><div class="line">      <span class="string">'&lt;%= yeoman.client %&gt;/&#123;app,components&#125;/**/*.mock.js'</span></div><div class="line">    ],</div><div class="line">    <span class="attr">tasks</span>: [<span class="string">'newer:jshint:all'</span>, <span class="string">'karma'</span>]</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// 5. 监视需要通过 injector 注入的 LESS 文件，如果修改，重新注入。</span></div><div class="line">  injectLess: &#123;</div><div class="line">    <span class="attr">files</span>: [</div><div class="line">      <span class="string">'&lt;%= yeoman.client %&gt;/&#123;app,components&#125;/**/*.less'</span>],</div><div class="line">    <span class="attr">tasks</span>: [<span class="string">'injector:less'</span>]</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// 6. 监视 LESS 文件，如果修改，重新生成 less。</span></div><div class="line">  less: &#123;</div><div class="line">    <span class="attr">files</span>: [</div><div class="line">      <span class="string">'&lt;%= yeoman.client %&gt;/&#123;app,components&#125;/**/*.less'</span>],</div><div class="line">    <span class="attr">tasks</span>: [<span class="string">'less'</span>, <span class="string">'autoprefixer'</span>]</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// 7.</span></div><div class="line">  gruntfile: &#123;</div><div class="line">    <span class="attr">files</span>: [<span class="string">'Gruntfile.js'</span>]</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// 8. 监视 JavaScript、HTML、CSS、图片，如果修改，刷新浏览器。</span></div><div class="line">  livereload: &#123;</div><div class="line">    <span class="attr">files</span>: [</div><div class="line">      <span class="string">'&#123;.tmp,&lt;%= yeoman.client %&gt;&#125;/&#123;app,components&#125;/**/*.css'</span>,</div><div class="line">      <span class="string">'&#123;.tmp,&lt;%= yeoman.client %&gt;&#125;/&#123;app,components&#125;/**/*.html'</span>,</div><div class="line">      <span class="string">'&#123;.tmp,&lt;%= yeoman.client %&gt;&#125;/&#123;app,components&#125;/**/*.js'</span>,</div><div class="line">      <span class="string">'!&#123;.tmp,&lt;%= yeoman.client %&gt;&#125;&#123;app,components&#125;/**/*.spec.js'</span>,</div><div class="line">      <span class="string">'!&#123;.tmp,&lt;%= yeoman.client %&gt;&#125;/&#123;app,components&#125;/**/*.mock.js'</span>,</div><div class="line">      <span class="string">'&lt;%= yeoman.client %&gt;http://johnnyimages.qiniudn.com/&#123;,*//*&#125;*.&#123;png,jpg,jpeg,gif,webp,svg&#125;'</span></div><div class="line">    ],</div><div class="line">    <span class="attr">options</span>: &#123;</div><div class="line">      <span class="attr">livereload</span>: <span class="literal">true</span></div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// 9. 监视 server 下的 js、json 文件， 如果修改，启动 express 服务。</span></div><div class="line">  express: &#123;</div><div class="line">    <span class="attr">files</span>: [</div><div class="line">      <span class="string">'server/**/*.&#123;js,json&#125;'</span></div><div class="line">    ],</div><div class="line">    <span class="attr">tasks</span>: [<span class="string">'express:dev'</span>, <span class="string">'wait'</span>],</div><div class="line">    <span class="attr">options</span>: &#123;</div><div class="line">      <span class="attr">livereload</span>: <span class="literal">true</span>,</div><div class="line">      <span class="attr">nospawn</span>: <span class="literal">true</span> <span class="comment">//Without this option specified express won't be reloaded</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="express-keepalive"><a href="#express-keepalive" class="headerlink" title="express-keepalive"></a>express-keepalive</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">grunt.registerTask(<span class="string">'express-keepalive'</span>, <span class="string">'Keep grunt running'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">   <span class="keyword">this</span>.async();</div><div class="line"> &#125;);</div></pre></td></tr></table></figure>
<p>该任务是不让 Grunt 结束。</p>
<h2 id="test"><a href="#test" class="headerlink" title="test"></a>test</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">grunt.registerTask(<span class="string">'test'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">target</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (target === <span class="string">'server'</span>) &#123;</div><div class="line">      <span class="keyword">return</span> grunt.task.run([</div><div class="line">        <span class="string">'env:all'</span>,</div><div class="line">        <span class="string">'env:test'</span>,</div><div class="line">        <span class="string">'mochaTest'</span></div><div class="line">      ]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (target === <span class="string">'client'</span>) &#123;</div><div class="line">      <span class="keyword">return</span> grunt.task.run([</div><div class="line">        <span class="string">'clean:server'</span>,</div><div class="line">        <span class="string">'env:all'</span>,</div><div class="line">        <span class="string">'injector:less'</span>,</div><div class="line">        <span class="string">'concurrent:test'</span>,</div><div class="line">        <span class="string">'injector'</span>,</div><div class="line">        <span class="string">'autoprefixer'</span>,</div><div class="line">        <span class="string">'karma'</span></div><div class="line">      ]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (target === <span class="string">'e2e'</span>) &#123;</div><div class="line">      <span class="keyword">return</span> grunt.task.run([</div><div class="line">        <span class="string">'clean:server'</span>,</div><div class="line">        <span class="string">'env:all'</span>,</div><div class="line">        <span class="string">'env:test'</span>,</div><div class="line">        <span class="string">'injector:less'</span>,</div><div class="line">        <span class="string">'concurrent:test'</span>,</div><div class="line">        <span class="string">'injector'</span>,</div><div class="line">        <span class="string">'wiredep'</span>,</div><div class="line">        <span class="string">'autoprefixer'</span>,</div><div class="line">        <span class="string">'express:dev'</span>,</div><div class="line">        <span class="string">'protractor'</span></div><div class="line">      ]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">else</span> grunt.task.run([</div><div class="line">      <span class="string">'test:server'</span>,</div><div class="line">      <span class="string">'test:client'</span></div><div class="line">    ]);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="拷贝字体"><a href="#拷贝字体" class="headerlink" title="拷贝字体"></a>拷贝字体</h3><p><code>copy:dist</code> 中只拷贝了 <em>assets/fonts/</em> 字体，通过 bower 安装的字体并不会拷贝到目标目录下，在 <code>copy:dist</code> 目标中添加如下配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">copy: &#123;</div><div class="line">dist: &#123;</div><div class="line">    ...,</div><div class="line">    &#123;</div><div class="line">        expand: true,</div><div class="line">        dest: &apos;&lt;%= yeoman.dist %&gt;/public/assets/fonts&apos;,</div><div class="line">        src: [&apos;&lt;%= yeoman.app %&gt;/&#123;components,assets&#125;/**/fonts/*&apos;, &apos;&lt;%= yeoman.bower %&gt;/**/fonts/*&apos;],</div><div class="line">        flatten: true</div><div class="line">    &#125;</div><div class="line">&#125;&#125;</div></pre></td></tr></table></figure>
<p>其中 yeoman.bower 为 _bower<em>components/</em> 路径：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">yeoman: &#123;</div><div class="line">  // ...</div><div class="line">  bower: &apos;bower_components&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="不拷贝-bower-components-到目标文件夹"><a href="#不拷贝-bower-components-到目标文件夹" class="headerlink" title="不拷贝 bower_components 到目标文件夹"></a>不拷贝 bower_components 到目标文件夹</h3><p>修改 <code>copy:dist</code> 目标：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">files: [&#123;</div><div class="line">  <span class="attr">expand</span>: <span class="literal">true</span>,</div><div class="line">  <span class="attr">dot</span>: <span class="literal">true</span>,</div><div class="line">  <span class="attr">cwd</span>: <span class="string">'&lt;%= yeoman.client %&gt;'</span>,</div><div class="line">  <span class="attr">dest</span>: <span class="string">'&lt;%= yeoman.dist %&gt;/public'</span>,</div><div class="line">  <span class="attr">src</span>: [</div><div class="line">    <span class="string">'*.&#123;ico,png,txt&#125;'</span>,</div><div class="line">    <span class="string">'.htaccess'</span>,</div><div class="line">    <span class="string">'bower_components/**/*'</span>,</div><div class="line">    <span class="string">'assets/images/&#123;,*/&#125;*.&#123;webp&#125;'</span>,</div><div class="line">    <span class="string">'assets/fonts/**/*'</span>,</div><div class="line">    <span class="string">'index.html'</span></div><div class="line">  ]</div><div class="line">&#125;,</div><div class="line">...</div><div class="line">]</div></pre></td></tr></table></figure>
<p>将 <code>src:</code> 下的  <del>‘bower_components/<em>*/</em>‘,</del>。</p>
<h3 id="TRAVIS-CI"><a href="#TRAVIS-CI" class="headerlink" title="TRAVIS CI"></a>TRAVIS CI</h3><p>See <a href="http://orizens.com/wp/topics/first-steps-in-setting-up-travis-ci-to-your-javascript-project" target="_blank" rel="external">First Steps In Setting Up Travis CI To Your Javascript Project</a></p>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2017-04-21T12:57:17.000Z" itemprop="dateUpdated">2017-04-21 20:57:17</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/Grunt/2014-11-25-grunt-angular-fullstack-yo.html" target="_blank" rel="external">http://blog.inching.org/Grunt/2014-11-25-grunt-angular-fullstack-yo.html</a>
        
    </div>
    <footer>
        <a href="http://blog.inching.org">
            <img src="/img/avatar.png" alt="Cody Fei">
            Cody Fei
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular/">angular</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fullstack/">fullstack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/grunt/">grunt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/yo/">yo</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/Grunt/2014-11-25-grunt-angular-fullstack-yo.html&title=《使用 Yoeman generator-angular-fullstack 生成工程的 Gruntfile 源码分析》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/Grunt/2014-11-25-grunt-angular-fullstack-yo.html&title=《使用 Yoeman generator-angular-fullstack 生成工程的 Gruntfile 源码分析》 — Balance&source=本文基于 使用 Yoeman generator-angular 生成工程的 Gruntfile 源码分析 中的一些内容，与其中重复的内容不再描述。
Ye..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/Grunt/2014-11-25-grunt-angular-fullstack-yo.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《使用 Yoeman generator-angular-fullstack 生成工程的 Gruntfile 源码分析》 — Balance&url=http://blog.inching.org/Grunt/2014-11-25-grunt-angular-fullstack-yo.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/Grunt/2014-11-25-grunt-angular-fullstack-yo.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/CSS/2014-11-29-css-layout-column.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">CSS 多栏布局</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/JavaScript/2014-11-12-javascript-console.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Console object you didn’t know</h4>
      </a>
    </div>
  
</nav>



    











</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.JPG" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.JPG" data-alipay="/img/alipay.JPG">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top" style="display:none">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>footer.license</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Cody Fei &copy; 2012 - 2017</span>
            <span style="display:none">
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/Grunt/2014-11-25-grunt-angular-fullstack-yo.html&title=《使用 Yoeman generator-angular-fullstack 生成工程的 Gruntfile 源码分析》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/Grunt/2014-11-25-grunt-angular-fullstack-yo.html&title=《使用 Yoeman generator-angular-fullstack 生成工程的 Gruntfile 源码分析》 — Balance&source=本文基于 使用 Yoeman generator-angular 生成工程的 Gruntfile 源码分析 中的一些内容，与其中重复的内容不再描述。
Ye..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/Grunt/2014-11-25-grunt-angular-fullstack-yo.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《使用 Yoeman generator-angular-fullstack 生成工程的 Gruntfile 源码分析》 — Balance&url=http://blog.inching.org/Grunt/2014-11-25-grunt-angular-fullstack-yo.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/Grunt/2014-11-25-grunt-angular-fullstack-yo.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACzklEQVR42u3aQW7jMBAEwPz/0wmQU4JAdPeQXGOB0slQHImlg4bumY+P+Pj8Pn5+/nnm6ZvJ+afr/73X+gpbBx4eHt5o6U/H+vZP11kv7u8VngDrK6zXjIeHh3ebl7+sZ+/hvAwkpagoP3h4eHhv5a0XmtxsZ6F4eHh4/yNvduMZoF0DHh4e3r/nJWFEu/2dba/zOONw1oKHh4cX82YNsPd+vt7fw8PDwxt11dvXbruUNpio14mHh4d3gbeOaGdFot2gz6Lh4lHi4eHhHeUlt1nj80W3sNmVf33Gw8PDu8zLY9P8lrMxguTRRHfBw8PDu8BrB6fadlQ7KJC0xPKV4+Hh4d3jndry5oNT7ZhCUlqiEoWHh4e3zcsD02RDnC9iZ3yhiE7w8PDwLvBmP/XbVtbZCjZ8QHh4eHiHeMlWeBbX5lvn5OVeT0Pg4eHhXebNWv5tCZmFHfnjeNHfw8PDwzvE29/mtmUg/34bH7/4YYCHh4d3iJeHBXls0Y5GzaKNaOV4eHh4F3h5YWjPtGHuLOwoGmx4eHh4h3h5zJpsjts21c7/RoMFeHh4eJd5OaNIOILCczb8/XUGDw8P7wIvX8qpaHWnYCRrqCcm8PDw8Ea8NrTNv58XkiRcSNpjj1k1Hh4e3iFeu0ktasvGFEPOe7EqPDw8vAu89jbJQFUbH7ShbT24gIeHh3eB126d24GqPBreGQKrnwoeHh7eBm+/6dUOVOUv93yg4ZGKh4eHd5m387O/jVkT8M4AFh4eHt4N3md55C/9Wcs/jzySK+Dh4eHd4A0ryUZLbL0tzgPfvJ2Gh4eHd4N3qhjMQtvZqEFRnPDw8PCu8WYjU3ksm29/D+QrbUaCh4eHd5nXxr55bDErBi+iEDw8PLy38vLAtB0XyItNTsXDw8O7zZs1n/Lppnx86kBDCw8PD+8yb6dlNQt2k4KU/LUtPHh4eHjbvC9aZDXKAMOCfAAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.6.17"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.17" async></script>










</body>
</html>
