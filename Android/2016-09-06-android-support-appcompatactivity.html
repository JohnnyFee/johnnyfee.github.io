<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-43567748-2', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="true">
    
    
    
    <title>AppCompatActivity | Balance | 大道至简</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="android">
    <meta name="description" content="Android Support Library
The Android Support Library package is a set of code libraries that provide backward-compatible versions of Android framework APIs as well as features that are only available t">
<meta property="og:type" content="article">
<meta property="og:title" content="AppCompatActivity">
<meta property="og:url" content="http://blog.inching.org/Android/2016-09-06-android-support-appcompatactivity.html">
<meta property="og:site_name" content="Balance">
<meta property="og:description" content="Android Support Library
The Android Support Library package is a set of code libraries that provide backward-compatible versions of Android framework APIs as well as features that are only available t">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/518096-920ce2a7f42473bf.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/518096-62251e22e4fe0cba.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/518096-d8c9085ffd4fb572.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/518096-14dcd734a51ea407.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/518096-45f3b63b1be53751.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2017-11-22T08:34:46.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AppCompatActivity">
<meta name="twitter:description" content="Android Support Library
The Android Support Library package is a set of code libraries that provide backward-compatible versions of Android framework APIs as well as features that are only available t">
<meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/518096-920ce2a7f42473bf.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
    
        <link rel="alternate" type="application/atom+xml" title="Balance" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/style/style.css?v=1.6.17">

    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-2846834382442028",
        enable_page_level_ads: true
      });
    </script>

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Cody Fei</h5>
          <a href="mailto:inchingcode@gmail.com" title="inchingcode@gmail.com" class="mail">inchingcode@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags/android"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/Android/"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/inchingorg" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/CodyFee" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.inesoi.com" target="_blank" >
                <i class="icon icon-lg icon-shopping-bag"></i>
                Shopping Bag
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">AppCompatActivity</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">AppCompatActivity</h1>
        <h5 class="subtitle">
            
                <time datetime="2016-09-05T16:00:00.000Z" itemprop="datePublished" class="page-time">
  2016-09-06
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Android/">Android</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Android-Support-Library"><span class="post-toc-text">Android Support Library</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Android-Theme"><span class="post-toc-text">Android Theme</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#AppCompatActivity"><span class="post-toc-text">AppCompatActivity</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#初探AppCompatActivity"><span class="post-toc-text">初探AppCompatActivity</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#AppCompatActivity-与-Toolbar-结合"><span class="post-toc-text">AppCompatActivity 与 Toolbar 结合</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#设置title"><span class="post-toc-text">设置title</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#设置回退按钮"><span class="post-toc-text">设置回退按钮</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#设置logo"><span class="post-toc-text">设置logo</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#设置副标题"><span class="post-toc-text">设置副标题</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#设置菜单"><span class="post-toc-text">设置菜单</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Toolbar的Style"><span class="post-toc-text">Toolbar的Style</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Toolbar菜单样式"><span class="post-toc-text">Toolbar菜单样式</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#FAQ"><span class="post-toc-text">FAQ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#问题分析"><span class="post-toc-text">问题分析</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#解决方案"><span class="post-toc-text">解决方案</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#For-Android-Studio"><span class="post-toc-text">For Android Studio</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#For-Eclipse"><span class="post-toc-text">For Eclipse</span></a></li></ol></li></ol>
        </nav>
    </aside>
    
<article id="post-android-support-appcompatactivity"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">AppCompatActivity</h1>
        <div class="post-meta">
            <time class="post-time" title="2016-09-06 00:00:00" datetime="2016-09-05T16:00:00.000Z"  itemprop="datePublished">2016-09-06</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Android/">Android</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h2 id="Android-Support-Library"><a href="#Android-Support-Library" class="headerlink" title="Android Support Library"></a>Android Support Library</h2><blockquote>
<p>The Android Support Library package is a set of code libraries that provide backward-compatible versions of Android framework APIs as well as features that are only available through the library APIs. </p>
</blockquote>
<p>See <a href="https://developer.android.com/topic/libraries/support-library/features.html" target="_blank" rel="external">支持库功能</a></p>
<p>Android的SDK版本很多，新的SDK版本包含了很多新的特性，为此Google官方提供Android Support Library package来保证高版本SDK的向下兼容。通过使用此包，可以让拥有最新SDK特性的应用运行在API lever 4(即Android 1.6) 及更高版本的设备之上。</p>
<ul>
<li>v4 Support Library<br>  此包用在API lever 4(即Android 1.6)及更高版本之上。它包含了较多的内容，使用非常广泛，例如：Fragment，NotificationCompat，LoadBroadcastManager，ViewPager，PageTabStrip，Loader，FileProvider 等。</li>
<li><p>v7 Support Libraries<br>  此包是针对API level 7(即Android 2.1)及以上版本而设计的，但是v7是要依赖v4这个包的，v7支持了Action Bar以及一些Theme的兼容。</p>
<blockquote>
<p><strong>Note:</strong> v7 appcompat library<br>v7 appcompat library 是包含在 v7 Support Libraries里面的一个包，正是此包增加了<a href="http://developer.android.com/guide/topics/ui/actionbar.html" target="_blank" rel="external">Action Bar</a> 用户界面的设计模式，并加入了对<a href="http://developer.android.com/design/material/" target="_blank" rel="external">material design</a> 的支持，是我们使用最多的一个兼容包。</p>
</blockquote>
<p>  <a href="https://developer.android.com/topic/libraries/support-library/features.html#v7" target="_blank" rel="external">v7 支持库</a></p>
</li>
<li><p>v13 Support Library<br>  此包是针对API level 13(即Android 3.2)及更高版本设计的，一般我们都不常用，平板开发中能用到，这里就不过多介绍了。</p>
</li>
<li><p>v17 Preference Support Library for TV<br>  看名字就知道了，此包主要是为了TV设备而设计。</p>
</li>
</ul>
<h2 id="Android-Theme"><a href="#Android-Theme" class="headerlink" title="Android Theme"></a>Android Theme</h2><ul>
<li><p>Hoho Theme</p>
<p>  在4.0之前Android可以说是没有设计可言的，在4.0之后推出了Android Design，从此Android在设计上有了很大的改善，而在程序实现上相应的就是Holo风格，所以你看到有类似 <code>Theme.Holo.Light</code>、 <code>Theme.Holo.Light.DarkActionBar</code> 就是4.0的设计风格，但是为了让4.0之前的版本也能有这种风格怎么办呢？这个时候就不得不引用v7包了，所以对应的就有 <code>Theme.AppCompat.Light</code>、<code>Theme.AppCompat.Light.DarkActionBar</code>，如果你的程序最小支持的版本是API14（即Android 4.0），那么可以不用考虑v7的兼容。</p>
</li>
<li><p>Material Design Theme</p>
<p>  Android在5.0版本推出了Material Design的概念，这是Android设计上又一大突破。对应的程序实现上就有<code>Theme.Material.Light</code>、 <code>Theme.Material.Light.DarkActionBar</code>等，但是这种风格只能应用在在5.0版本的手机，如果在5.0之前应用Material Design该怎么办呢？同样的引用appcompat-v7包，这个时候的<code>Theme.AppCompat.Light</code>、<code>Theme.AppCompat.Light.DarkActionBar</code>就是相对应兼容的Material Design的Theme。</p>
</li>
</ul>
<h2 id="AppCompatActivity"><a href="#AppCompatActivity" class="headerlink" title="AppCompatActivity"></a>AppCompatActivity</h2><h3 id="初探AppCompatActivity"><a href="#初探AppCompatActivity" class="headerlink" title="初探AppCompatActivity"></a>初探AppCompatActivity</h3><p>按照androidStudio默认顺序创建项目，默认Activity继承自AppCompatActivity.代码如下：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123; </div><div class="line">    <span class="meta">@Override</span> </div><div class="line">    <span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) &#123; </div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(<span class="type">R</span>.layout.activity_main); </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行。下面我们来一步一步扩展其标题栏，让它的内容更加丰富多彩。</p>
<h3 id="AppCompatActivity-与-Toolbar-结合"><a href="#AppCompatActivity-与-Toolbar-结合" class="headerlink" title="AppCompatActivity 与 Toolbar 结合"></a>AppCompatActivity 与 Toolbar 结合</h3><p>其实我们并不是要使用AppCompatActivity自带的标题栏，那样扩展会很麻烦，在14年的Android5.0的时候就用Toolbar替代了ActionBar，而ActionBarActivity又被AppCompatActivity替代，那么使用方法就是引入Toolbar设置到Activity中。</p>
<p>首先我们必须在配置文件中，写入Toolbar，代码如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">android.support.v7.widget.Toolbar</span> </span></div><div class="line">    <span class="attr">android:id</span>=<span class="string">"@+id/activity_main_toolbar"</span>     </div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span> </div><div class="line">    <span class="attr">android:minHeight</span>=<span class="string">"?attr/actionBarSize"</span> </div><div class="line">    <span class="attr">android:background</span>=<span class="string">"?attr/colorPrimary"</span>&gt; </div><div class="line"><span class="tag">&lt;/<span class="name">android.support.v7.widget.Toolbar</span>&gt;</span></div></pre></td></tr></table></figure>
<blockquote>
<p>解释(1)android:minHeight = “?attr/actionBarSize”:设置标题栏最小高度为ActionBar的高度。<br>解释(2)android:background = “?attr/colorPrimary”:该主题下的主色。也就是默认的灰色</p>
</blockquote>
<p>我们知道在AndroidManifest.xml清单文件下application中设置了android:theme = “@style/AppTheme”而查看APPTheme看到如下样式</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span> </div><div class="line"><span class="comment">&lt;!-- Base application theme. --&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"Theme.AppCompat.Light.DarkActionBar"</span>&gt;</span><span class="xml"> </span></div><div class="line"><span class="comment">&lt;!-- Customize your theme here. --&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div></pre></td></tr></table></figure>
<p>从名字我们就可以看出来，默认的标题栏为黑色。我们使用了Toolbar就必须修改样式文件，将原来的标题栏去掉，修改后的样式文件如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span> </div><div class="line"><span class="comment">&lt;!-- Base application theme. --&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"Theme.AppCompat.Light.NoActionBar"</span>&gt;</span><span class="xml"> </span></div><div class="line"><span class="comment">&lt;!-- Customize your theme here. --&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div></pre></td></tr></table></figure>
<p>如下这个时候运行，那么你将看到界面也是没有标题栏的，因为你并没有设置到AppCompatActivity中去。</p>
<p>我们创建一个方法名为initActionBar(),首先当然是获取Toolbar控件，然后将Toolbar设置到Activity中去。代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initActionBar</span><span class="params">()</span> </span>&#123; </div><div class="line">    Toolbar toolbar = (Toolbar) findViewById(R.id.activity_main_toolbar); </div><div class="line">    setSupportActionBar(toolbar);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>现在我们运行，我们将得到如下界面：</p>
<p>依然不是你期待的效果，下面我们将介绍AppCompatActivity的细节。</p>
<h3 id="设置title"><a href="#设置title" class="headerlink" title="设置title"></a>设置title</h3><p>我们可以看到，标题栏始终显示我们的项目名，这样显然给用户看是不理想的。那么怎么设置标题栏的字符串。我们可以在setSupportActionBar(toolbar)之前加入如下代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">setTitle(<span class="string">"liyuanjinglyi"</span>);</div></pre></td></tr></table></figure>
<p>此setTitle(“liyuanjinglyj”)是AppCompatActivity的方法，并不是Toolbar的方法，那么我们运行一下程序得到如下界面：</p>
<p>那么我们将刚才的AppCompatActivity的setTitle换成Toolbar的setTitle看看效果会怎么样，其实结果如上图一样，没有任何变化。</p>
<p>可能你希望title显示在中间，很遗憾，toolbar与AppCompatActivity并没有提供相关的方法，不过可以在toolbar中加入一个TextView，配置其属性，让其显示在最中间。</p>
<h3 id="设置回退按钮"><a href="#设置回退按钮" class="headerlink" title="设置回退按钮"></a>设置回退按钮</h3><p>假如我们这个界面并不是主界面，而是一个子界面，这个时候我有一个需求，需要回退到上一个界面，那么怎么设置左边的图标并实现其方法。其实很简单，在setSupportActionBar(toolbar);后面加入如下代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">toolbar.setNavigationIcon(R.drawable.back);</div><div class="line">toolbar.setNavigationOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123; </div><div class="line"></div><div class="line"><span class="meta">@Override</span> </div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123; </div><div class="line">finish(); </div><div class="line">&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>为什么在setSupportActionBar(toolbar);后面假如而不在前面，你可以加入到前面试试，虽然可以显示回退的图片，但是点击并没有调用该按钮的点击事件，而在setSupportActionBar(toolbar);后面设置点击才有反应。一定要记住，不然回退是不会起作用的。</p>
<h3 id="设置logo"><a href="#设置logo" class="headerlink" title="设置logo"></a>设置logo</h3><p>设置logo在标题栏并不少见，比如网易APP首页，其实代码很简单，也仅仅需要一条代码即可，在setSupportActionBar(toolbar)前加入如下代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">toolbar.setLogo(R.id.app_logo);</div></pre></td></tr></table></figure>
<h3 id="设置副标题"><a href="#设置副标题" class="headerlink" title="设置副标题"></a>设置副标题</h3><p>在setSupportActionBar(toolbar)前加入如下代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">toolbar.setSubtitile(<span class="string">"liyuanjing"</span>);</div></pre></td></tr></table></figure>
<p>运行界面后，如下：</p>
<h3 id="设置菜单"><a href="#设置菜单" class="headerlink" title="设置菜单"></a>设置菜单</h3><p>我们知道onCreateOptionMenu是上下文菜单，同理可以直接在该方法中设置菜单，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu)</span> </span>&#123; </div><div class="line">getMenuInflater().inflate(R.menu.menu_main, menu); </div><div class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>此方法为Activity方法。因为你在上面已经将Toolbar设置到了Activity中，所以默认也会显示到标题栏中，如果你觉得这样不习惯，那么你可以添加一条语句，不过这条语句添加与否都没关系。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">toolbar.setOnCreateContextMenuListener(<span class="keyword">this</span>);</div></pre></td></tr></table></figure>
<h3 id="Toolbar的Style"><a href="#Toolbar的Style" class="headerlink" title="Toolbar的Style"></a>Toolbar的Style</h3><p>标题下的Toolbar是蓝色，且有很好的Style，那么这是怎么设置呢？虽然我们这里重点是剖析Activity但是遇到有关Activity标题栏样式的还是要提到。</p>
<p>我们粗略的讲解上面的标题栏用到了哪些Style:</p>
<p><code>&lt;item name = &quot;colorPrimary&quot;&gt;#4876FF&lt;item&gt;</code>:如第一步直接在Toolbar控件下面设置的属性一样，就是Toolbar的颜色</p>
<p><code>&lt;item name=&quot;colorPrimaryDark&quot;&gt;#3A5FCD&lt;/item&gt;</code>：状态栏颜色也就是标题栏上面的那个颜色，而我用的是小米1S测试的，其固件并没有很好的实现其功能。</p>
<p><code>&lt;item name = &quot;android:windowBackground&quot;&gt;@android:color/white&lt;/item&gt;</code>:窗口背景色，也就是Activity标题栏下面所有地方的颜色。</p>
<p>完整代码如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- Base application theme. --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"Theme.AppCompat.Light.NoActionBar"</span>&gt;</span><span class="xml"> </span></div><div class="line"><span class="comment">&lt;!-- toolbar（actionbar）颜色 --&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorPrimary"</span>&gt;</span>#4876FF<span class="tag">&lt;/<span class="name">item</span>&gt;</span> </div><div class="line"><span class="comment">&lt;!-- 状态栏颜色 --&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorPrimaryDark"</span>&gt;</span>#3A5FCD<span class="tag">&lt;/<span class="name">item</span>&gt;</span> </div><div class="line"><span class="comment">&lt;!-- 窗口的背景颜色 --&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"android:windowBackground"</span>&gt;</span>@android:color/white<span class="tag">&lt;/<span class="name">item</span>&gt;</span>     </div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Toolbar菜单样式"><a href="#Toolbar菜单样式" class="headerlink" title="Toolbar菜单样式"></a>Toolbar菜单样式</h3><p>我们来看看如果直接使用上面的点击后边的菜单会有什么效果：</p>
<p>需要完成的任务是将该菜单的样式和其他App一样，在标题栏下面弹出。</p>
<p>首先要说明一下，toolbar菜单默认样式的父类为Widget.AppCompat.Light.PopupMenu.Overflow，那么要更改toobar中菜单的弹出的样式，就必须继承这个父类的样式。</p>
<p>其代码如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- Base application theme. --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"Theme.AppCompat.Light.NoActionBar"</span>&gt;</span><span class="xml"> </span></div><div class="line"><span class="comment">&lt;!-- toolbar（actionbar）颜色 --&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorPrimary"</span>&gt;</span>#4876FF<span class="tag">&lt;/<span class="name">item</span>&gt;</span> </div><div class="line"><span class="comment">&lt;!-- 状态栏颜色 --&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorPrimaryDark"</span>&gt;</span>#3A5FCD<span class="tag">&lt;/<span class="name">item</span>&gt;</span> </div><div class="line"><span class="comment">&lt;!-- 窗口的背景颜色 --&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"android:windowBackground"</span>&gt;</span>@android:color/white<span class="tag">&lt;/<span class="name">item</span>&gt;</span>     </div><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"actionOverflowMenuStyle"</span>&gt;</span>@style/LYJMenuStyle<span class="tag">&lt;/<span class="name">item</span>&gt;</span>    </div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"LYJMenuStyle"</span> <span class="attr">parent</span>=<span class="string">"@style/Widget.AppCompat.Light.PopupMenu.Overflow"</span>&gt;</span><span class="xml">     </span></div><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"overlapAnchor"</span>&gt;</span>false<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure>
<p>设置这一个属性那么其弹出的样式就与其他APP一样不会覆盖标题栏。</p>
<p>还有其他属性这里简要说明一下：</p>
<p><code>&lt;item name=&quot;android:popupBackground&quot;&gt;?attr/colorPrimary&lt;/item&gt;</code>：弹出菜单背景色为标题栏的背景色</p>
<p><code>&lt;item name=&quot;android:dropDownVerticalOffset&quot;&gt;0dip&lt;/item&gt;</code>：弹出菜单与标题栏的垂直间距</p>
<p>将这两条加入LYJMenuStyle中就可以了实现如下图所示的弹出菜单：</p>
<p>最后介绍一下菜单里面重要的几个属性：</p>
<p><code>app:showAsAction</code> 有三个值：<br>always：总是显示在界面上never：不显示在界面上，只让出现在右边的三个点中 ifRoom：如果有位置才显示，不然就出现在右边的三个点中</p>
<p>可以用 | 同时使用两个上面的值。</p>
<p>系统也为菜单提供了默认的分享菜单与查询菜单，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">app:actionViewClass=&quot;android.support.v7.widget.SearchView&quot;  </div><div class="line">app:actionProviderClass=&quot;android.support.v7.widget.ShareActionProvider&quot;</div></pre></td></tr></table></figure>
<p>从名字想必不需要过多解释，最后一个就是显示的<a href="http://www.07net01.com/tags-%E4%BC%98%E5%85%88%E7%BA%A7-0.html" target="_blank" rel="external">优先级</a>，也就是显示的顺序，谁在最前面，谁在后面：</p>
<p><code>android:orderInCategory</code> 数值越小，显示靠前，且优先级最大。</p>
<p>Previously, to open a dialog may have used the following code:</p>
<p><a href="https://blog.xamarin.com/android-tips-hello-appcompatactivity-goodbye-actionbaractivity/" target="_blank" rel="external">Android Tips:Hello AppCompatActivity,Goodbye ActionBarActivity</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var builder = <span class="keyword">new</span> AlertDialog.Builder (<span class="keyword">this</span>);</div><div class="line"></div><div class="line">builder.SetTitle (<span class="string">"Hello Dialog"</span>)  </div><div class="line">.SetMessage (<span class="string">"Is this material design?"</span>)  </div><div class="line">.SetPositiveButton (<span class="string">"Yes"</span>, delegate &#123; Console.WriteLine(<span class="string">"Yes"</span>); &#125;)  </div><div class="line">.SetNegativeButton (<span class="string">"No"</span>, delegate &#123; Console.WriteLine(<span class="string">"No"</span>); &#125;); </div><div class="line"></div><div class="line">builder.Create().Show ();</div></pre></td></tr></table></figure>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><p>先来看这样一个错误：</p>
<p><code>No resource found that matches the given name &#39;@style/Theme.AppCompat.Light&#39;</code></p>
<p>对于这个错误，相信大部分Android开发者都遇到过，可能很多朋友通过百度或者Google已经解决了这个问题，但是网上大部分都只给出了解决方法。</p>
<p>正所谓知其然，知其所以然，本文将从此问题出发，深入分析探讨导致此问题的原因、由其衍生出来的一系列问题及其解决方案。</p>
<h3 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h3><p>由此可以得出以下情形会导致本文一开始提出的问题。</p>
<ul>
<li><p>项目使用的是Theme.AppCompat主题，具体表现为<br>  项目values目录styles.xml文件里面style为</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppBaseTheme"</span> <span class="attr">parent</span>=<span class="string">"Theme.AppCompat.Light"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"AppBaseTheme"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div></pre></td></tr></table></figure>
<p>  AndroidManifest.xml文件里面</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">android:theme="@style/AppTheme"</div></pre></td></tr></table></figure>
</li>
<li><p>项目支持的最小SDK小于API 14（即Android4.0），具体表现为<br>  AndroidManifest.xml文件里面，<code>minSdkVersion</code>&lt;14，比如</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">uses-sdk</span></span></div><div class="line">      <span class="attr">android:minSdkVersion</span>=<span class="string">"8"</span></div><div class="line">      <span class="attr">android:targetSdkVersion</span>=<span class="string">"23"</span> /&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>项目没有导入android-support-v7-appcompat兼容包。</p>
</li>
</ul>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>此时的解决方法有如下几种：</p>
<ol>
<li><p>既然没有找到<code>Theme.AppCompat.Light</code>主题，那么我就不使用此主题。此时将项目values，values-v11，values-v14目录下的styles.xml文件里面的style都改为</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppBaseTheme"</span> <span class="attr">parent</span>=<span class="string">"android:Theme.Light"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"AppBaseTheme"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>那如果没有找到<code>Theme.AppCompat.Light</code>主题，而我们又想要使用最新的主题效果呢，还有种方法就是将AndroidManifest.xml文件里面，<code>minSdkVersion</code>改成14，比如</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">uses-sdk</span></span></div><div class="line">     <span class="attr">android:minSdkVersion</span>=<span class="string">"14"</span></div><div class="line">     <span class="attr">android:targetSdkVersion</span>=<span class="string">"23"</span> /&gt;</div></pre></td></tr></table></figure>
<p>此时再将项目values，values-v11，values-v14目录下的styles.xml文件里面style都改为</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppBaseTheme"</span> <span class="attr">parent</span>=<span class="string">"android:Theme.Holo.Light"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"AppBaseTheme"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>当然以上都不是最好的方法，只是提供一种思路。最好的方法就是导入android-support-v7-appcompat库。下面具体介绍。</p>
</li>
</ol>
<h3 id="For-Android-Studio"><a href="#For-Android-Studio" class="headerlink" title="For Android Studio"></a>For Android Studio</h3><h3 id="For-Eclipse"><a href="#For-Eclipse" class="headerlink" title="For Eclipse"></a>For Eclipse</h3><ol>
<li><p>通过Android SDK Manager下载最新的Android Support Library。  </p>
<p> <img src="http://upload-images.jianshu.io/upload_images/518096-920ce2a7f42473bf.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">  </p>
<p> 下载完成之后，可以在以下目录找到AppCompat library</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">android-sdk/extras/android/support/v7/appcompat</div></pre></td></tr></table></figure>
</li>
<li><p>将此目录下的项目导入到Eclipse中  </p>
<p> <img src="http://upload-images.jianshu.io/upload_images/518096-62251e22e4fe0cba.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">  </p>
</li>
<li><p>右键点击我们的Android项目，选择Properties，左侧选择Android，在下方Library框里点击Add，最后选择appcompat_v7，确定。<br> 此时问题就解决了。  </p>
<p> <img src="http://upload-images.jianshu.io/upload_images/518096-d8c9085ffd4fb572.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">  </p>
<blockquote>
<p>但在以上3.2导入appcompat_v7到Eclipse之后，有可能还会出现错误提示，比如<br><code>appcompat_v7\res\values-v23\styles_base.xml:20: error: Error retrieving parent for item: No resource found that matches the given name &#39;android:Widget.Material.Button.Colored&#39;.</code></p>
</blockquote>
</li>
</ol>
<p>出现此问题的原因是appcompat_v7已经更新到了最新版本并且高于编译环境的SDK版本，此时在Android SDK Manager将SDK及编译工具更新到最高版本  </p>
<p><img src="http://upload-images.jianshu.io/upload_images/518096-14dcd734a51ea407.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">  </p>
<p>升级完成之后右键点击appcompat_v7项目，选择Properties，选择Project Build Target 为最新版本，这样就OK了。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://upload-images.jianshu.io/upload_images/518096-45f3b63b1be53751.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>  
<p>通过以上的分析，相信朋友们以后再遇到AppCompat相关的问题应该不再是问题了。欢迎大家留言讨论。</p>
<p>See:</p>
<ul>
<li><a href="http://www.jianshu.com/p/6ad7864e005e" target="_blank" rel="external">Android关于Theme.AppCompat相关问题的深入分析 - 简书</a></li>
<li><a href="http://www.jianshu.com/p/59a1ad466ccc" target="_blank" rel="external">AppCompatActivity - 简书</a></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2017-11-22T08:34:46.000Z" itemprop="dateUpdated">2017-11-22 16:34:46</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/Android/2016-09-06-android-support-appcompatactivity.html" target="_blank" rel="external">http://blog.inching.org/Android/2016-09-06-android-support-appcompatactivity.html</a>
        
    </div>
    <footer>
        <a href="http://blog.inching.org">
            <img src="/img/avatar.png" alt="Cody Fei">
            Cody Fei
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/Android/2016-09-06-android-support-appcompatactivity.html&title=《AppCompatActivity》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/Android/2016-09-06-android-support-appcompatactivity.html&title=《AppCompatActivity》 — Balance&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/Android/2016-09-06-android-support-appcompatactivity.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《AppCompatActivity》 — Balance&url=http://blog.inching.org/Android/2016-09-06-android-support-appcompatactivity.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/Android/2016-09-06-android-support-appcompatactivity.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/Android/2016-09-06-android-state-storage.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Android State Storage &amp; Revovery</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/FullStack/2016-09-05-desktop.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Desktop Develpment Solutions</h4>
      </a>
    </div>
  
</nav>



    











</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.JPG" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.JPG" data-alipay="/img/alipay.JPG">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top" style="display:none">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>footer.license</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Cody Fei &copy; 2012 - 2017</span>
            <span style="display:none">
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/Android/2016-09-06-android-support-appcompatactivity.html&title=《AppCompatActivity》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/Android/2016-09-06-android-support-appcompatactivity.html&title=《AppCompatActivity》 — Balance&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/Android/2016-09-06-android-support-appcompatactivity.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《AppCompatActivity》 — Balance&url=http://blog.inching.org/Android/2016-09-06-android-support-appcompatactivity.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/Android/2016-09-06-android-support-appcompatactivity.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACqklEQVR42u3aQW7kMAwEwPz/07vXBZKZdJNS4gXKp8Aj2yodJIbkx0d8/fnnenXn/cjPY1595fN7Xn3r2IWHh4e3mPqr1529v/l6/hQeHh7ebV6yTW923eQ4ace8nzMeHh7eM3nvR86eygN6PDw8vP+Llx8GyRLkYTQeHh7ec3jtdN+/NE9PJL/mSV48PDy8n+HlVaTn/H2lvoeHh4e3rqrnm/U+aTsrdH0zWzw8PLwLvHzDTcAttd3o23ni4eHh3eDNCvmbY+DGofJyDB4eHt4FXrv1zyaX358t6CoxgYeHhzfitcWtWfFsH4gnB0zRGYGHh4c34m0mkU+xLaTlrQl11Q4PDw9vzUu216RBqm3bat8/K4/h4eHh3eO1KdpZ4X+2WO17Vv1ieHh4eGUUmn84H5Okg9vQvG0Lw8PDwzvLSwrzeTKirUPt2w6+CdDx8PDwLvPypMCmPJZPdB+C4+Hh4d3g5YHvbFvflND2lSw8PDy8e7w8qM3HtIndPMWQPIuHh4d3j9eGy21bwOyQmC36F+Px8PDwfoTXlqBmaYgksG7n9sVTeHh4eBd4+3LUvti/bzgokhF4eHh4h3g3EhB5iSsJo2etCXh4eHg3eG1DQN4KkKdr8y/WDQd4eHh4F3ibTXm2fe+PhGEyAg8PD+8ory3b5wH37GoPqmLN8PDw8I7yZkWm5MP7kW0jFx4eHt7v8vYpiVlLwSxAHzYN4OHh4cW8fbCbhNF5WJwH9NGy4uHh4V3gnUqwnj1IkgVapSfw8PDw1rz21W2xqp103nwQLSIeHh7eNV4S7LalqWFr1NkLDw8P7zG8toFgH6bPAno8PDy85/DaclcyxXwRixQzHh4e3jVemwjIm59OtSbkKWA8PDy827zZf/TtFt+mKo5NHQ8PD+8k7y+J+n2CF40r0AAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.6.17"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.17" async></script>










</body>
</html>
