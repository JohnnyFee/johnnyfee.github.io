<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-43567748-2', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="true">
    
    
    
    <title>How To Install WordPress with Nginx on a CentOS 7 Server | Balance | 大道至简</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="php,wordpress,centos,nginx,lamp">
    <meta name="description" content="WordPress is the most widely used open source web blogging and content management software written in php and MySQL. In this article, I will show you how to install WordPress using Nginx on CentOS/RHE">
<meta property="og:type" content="article">
<meta property="og:title" content="How To Install WordPress with Nginx on a CentOS 7 Server">
<meta property="og:url" content="http://blog.inching.org/PHP/2017-05-01-php-nginx-wordpress.html">
<meta property="og:site_name" content="Balance">
<meta property="og:description" content="WordPress is the most widely used open source web blogging and content management software written in php and MySQL. In this article, I will show you how to install WordPress using Nginx on CentOS/RHE">
<meta property="og:image" content="http://www.chrisabernethy.com/wp-content/uploads/2008/12/connection_info_needed.jpg">
<meta property="og:updated_time" content="2017-11-05T08:22:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How To Install WordPress with Nginx on a CentOS 7 Server">
<meta name="twitter:description" content="WordPress is the most widely used open source web blogging and content management software written in php and MySQL. In this article, I will show you how to install WordPress using Nginx on CentOS/RHE">
<meta name="twitter:image" content="http://www.chrisabernethy.com/wp-content/uploads/2008/12/connection_info_needed.jpg">
    
        <link rel="alternate" type="application/atom+xml" title="Balance" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/style/style.css?v=1.6.17">

    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-2846834382442028",
        enable_page_level_ads: true
      });
    </script>

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Cody Fei</h5>
          <a href="mailto:inchingcode@gmail.com" title="inchingcode@gmail.com" class="mail">inchingcode@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags/android"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/Android/"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/inchingorg" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/CodyFee" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.inesoi.com" target="_blank" >
                <i class="icon icon-lg icon-shopping-bag"></i>
                Shopping Bag
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">How To Install WordPress with Nginx on a CentOS 7 Server</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">How To Install WordPress with Nginx on a CentOS 7 Server</h1>
        <h5 class="subtitle">
            
                <time datetime="2017-04-30T16:00:00.000Z" itemprop="datePublished" class="page-time">
  2017-05-01
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/PHP/">PHP</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-1-Prerequisite"><span class="post-toc-text">Step #1 Prerequisite:</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-2-Downloading-amp-Extracting-WordPress"><span class="post-toc-text">Step #2 Downloading & Extracting WordPress</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-3-Creating-MySQL-Database-for-WordPress"><span class="post-toc-text">Step #3 Creating MySQL Database for WordPress</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-4-Creating-Nginx-VirtualHost"><span class="post-toc-text">Step #4 Creating Nginx VirtualHost</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-5-Configuring-WordPress-Installation"><span class="post-toc-text">Step #5 Configuring WordPress Installation</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Step-6-WordPress-Installation"><span class="post-toc-text">Step #6 WordPress Installation</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#FAQ"><span class="post-toc-text">FAQ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#WHY-WORDPRESS-ASKS-FOR-CONNECTION-INFO"><span class="post-toc-text">WHY WORDPRESS ASKS FOR CONNECTION INFO</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#What-is-Causing-This"><span class="post-toc-text">What is Causing This?</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Why-Can’t-WordPress-Write-To-The-Filesystem"><span class="post-toc-text">Why Can’t WordPress Write To The Filesystem?</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#What-Can-I-Do-About-It"><span class="post-toc-text">What Can I Do About It?</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#FAQ-1"><span class="post-toc-text">FAQ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Nginx-413-Request-Entity-Too-Large-Error-and-Solution"><span class="post-toc-text">Nginx: 413 Request Entity Too Large Error and Solution</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Nginx-configuration"><span class="post-toc-text">Nginx configuration</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#PHP-configuration-optional"><span class="post-toc-text">PHP configuration (optional)</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>
    
<article id="post-php-nginx-wordpress"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">How To Install WordPress with Nginx on a CentOS 7 Server</h1>
        <div class="post-meta">
            <time class="post-time" title="2017-05-01 00:00:00" datetime="2017-04-30T16:00:00.000Z"  itemprop="datePublished">2017-05-01</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/PHP/">PHP</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>WordPress is the most widely used open source web blogging and content management software written in php and MySQL. In this article, I will show you how to install WordPress using Nginx on CentOS/RHEL 7/6/5.</p>
<h2 id="Step-1-Prerequisite"><a href="#Step-1-Prerequisite" class="headerlink" title="Step #1 Prerequisite:"></a><strong>Step #1 Prerequisite:</strong></h2><p>You’ll need to have a LEMP (Linux, Nginx, MySQL, and PHP) installed on your CentOS/RHEL server. If LEMP hasn’t installed or configured on server, you can use below articles to install LEMP.</p>
<p><strong>On RHEL/CentOS 7</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum install nginx mariadb mariadb-server php php-fpm php-common php-mysql php-gd php-xml php-mbstring php-mcrypt</div></pre></td></tr></table></figure>
<p><strong>On RHEL/CentOS 6/5</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum install nginx mysql mysql-server php php-fpm php-common php-mysql php-gd php-xml php-mbstring php-mcrypt</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>It will install php5, if you want to install PHP7, do as <a href="http://blog.inching.org/PHP/2017-05-01-centos7-nginx-lamp.html">How to Install PHP 7, NGINX &amp; MySQL 5.6 on CentOS/RHEL 7.1 &amp; 6.7</a></p>
<p>Next, start the service to reflect changes.</p>
<p><strong>On RHEL/CentOS 7</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># systemctl start nginx</div><div class="line"># systemctl start mysqld</div><div class="line"># systemctl start php-fpm</div></pre></td></tr></table></figure>
<p><strong>On RHEL/CentOS 6/5</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># service nginx start</div><div class="line"># service mysqld start</div><div class="line"># service php-fpm start</div></pre></td></tr></table></figure>
<p><a href="http://www.techoism.com/how-to-install-lamp-on-centosrhel-7/" target="_blank" rel="external">Install LAMP on CentOS/RHEL 7</a><br><a href="http://www.techoism.com/install-lamp-on-centosrhel/" target="_blank" rel="external">Install LAMP on CentOS/RHEL 5/6</a></p>
<h2 id="Step-2-Downloading-amp-Extracting-WordPress"><a href="#Step-2-Downloading-amp-Extracting-WordPress" class="headerlink" title="Step #2 Downloading &amp; Extracting WordPress"></a><strong>Step #2 Downloading &amp; Extracting WordPress</strong></h2><p>WordPress content can be downloaded using the commands below.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># cd /opt</div><div class="line"># wget https://wordpress.org/latest.tar.gz</div></pre></td></tr></table></figure>
<p>Once the download finish, run the following command extract it.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># tar -xvzf latest.tar.gz -C /usr/share/nginx/html/</div></pre></td></tr></table></figure>
<p>Next, change the permissions and ownership of the WordPress content folders.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># chown -R apache: /usr/share/nginx/html/wordpress</div><div class="line"># chmod -R 755 /usr/share/nginx/html/wordpress</div></pre></td></tr></table></figure>
<h2 id="Step-3-Creating-MySQL-Database-for-WordPress"><a href="#Step-3-Creating-MySQL-Database-for-WordPress" class="headerlink" title="Step #3 Creating MySQL Database for WordPress"></a><strong>Step #3 Creating MySQL Database for WordPress</strong></h2><p>Now create a mysql database and user for wordpress. Use following set of command to create database and user.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># mysql -u root -p</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">mysql&gt; CREATE DATABASE &lt;dbname&gt;; </div><div class="line">mysql&gt; CREATE USER &lt;username&gt;@localhost IDENTIFIED BY &apos;password&apos;;</div><div class="line">mysql&gt; GRANT ALL PRIVILEGES ON &lt;dbname&gt;.* TO &lt;username&gt;@localhost;</div><div class="line">mysql&gt; FLUSH PRIVILEGES;</div><div class="line">mysql&gt; quit</div></pre></td></tr></table></figure>
<p>如果需要在其他主机也可以访问该数据库，则需要添加 User：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mysql&gt; CREATE USER &lt;username&gt;@&apos;%&apos; IDENTIFIED BY &apos;password&apos;;</div><div class="line">mysql&gt; GRANT ALL PRIVILEGES ON &lt;dbname&gt;.* TO &lt;username&gt;@&apos;%&apos;;</div><div class="line">mysql&gt; FLUSH PRIVILEGES;</div></pre></td></tr></table></figure>
<h2 id="Step-4-Creating-Nginx-VirtualHost"><a href="#Step-4-Creating-Nginx-VirtualHost" class="headerlink" title="Step #4 Creating Nginx VirtualHost"></a><strong>Step #4 Creating Nginx VirtualHost</strong></h2><p>Open the Nginx configuration file with “vi” editor and add the following lines:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># vi /etc/nginx/conf.d/blog.techoism.conf</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">        listen 80;</div><div class="line">        server_name localhost;</div><div class="line">        root   /usr/share/nginx/html/wordpress;</div><div class="line">        index index.php index.html;</div><div class="line">        location / &#123;</div><div class="line">            try_files $uri $uri/ /index.php?$args;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        location ~ .php$ &#123;</div><div class="line">            try_files $uri =404;</div><div class="line">            fastcgi_pass    127.0.0.1:9000;</div><div class="line">            fastcgi_index   index.php;</div><div class="line">            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</div><div class="line">            include fastcgi_params;</div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Next, restart the nginx service to reflect changes.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">**On RHEL/CentOS 7** </div><div class="line"># systemctl restart nginx </div><div class="line">**On RHEL/CentOS 6/5** </div><div class="line"># service nginx restart</div></pre></td></tr></table></figure>
<h2 id="Step-5-Configuring-WordPress-Installation"><a href="#Step-5-Configuring-WordPress-Installation" class="headerlink" title="Step #5 Configuring WordPress Installation"></a><strong>Step #5 Configuring WordPress Installation</strong></h2><p>Use following command to configure WordPress installation.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># cd /usr/share/nginx/html/wordpress</div><div class="line"># cp wp-config-sample.php wp-config.php</div><div class="line"># chmod 777 wp-config.php</div><div class="line"># chown apache:apache wp-config.php</div></pre></td></tr></table></figure>
<p>Open wordpress configuration file and change MySQL setting.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># vi wp-config.php</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">// ** MySQL settings - You can get this info from your web host ** //</div><div class="line">/** The name of the database for WordPress */</div><div class="line">define(&apos;DB_NAME&apos;, &apos;techoism_db&apos;);</div><div class="line"></div><div class="line">/** MySQL database username */</div><div class="line">define(&apos;DB_USER&apos;, &apos;techoism_user&apos;);</div><div class="line"></div><div class="line">/** MySQL database password */</div><div class="line">define(&apos;DB_PASSWORD&apos;, &apos;redhat&apos;);</div><div class="line"></div><div class="line">/** MySQL hostname */</div><div class="line">define(&apos;DB_HOST&apos;, &apos;localhost&apos;);</div><div class="line"></div><div class="line">/** Database Charset to use in creating database tables. */</div><div class="line">define(&apos;DB_CHARSET&apos;, &apos;utf8&apos;);</div><div class="line"></div><div class="line">/** The Database Collate type. Don&apos;t change this if in doubt. */</div><div class="line">define(&apos;DB_COLLATE&apos;, &apos;&apos;);</div></pre></td></tr></table></figure>
<h2 id="Step-6-WordPress-Installation"><a href="#Step-6-WordPress-Installation" class="headerlink" title="Step #6 WordPress Installation"></a><strong>Step #6 WordPress Installation</strong></h2><p>Open your browser and type any of the following address.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">http://blog.techoism.com</div><div class="line">http://Server-IP</div></pre></td></tr></table></figure>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="WHY-WORDPRESS-ASKS-FOR-CONNECTION-INFO"><a href="#WHY-WORDPRESS-ASKS-FOR-CONNECTION-INFO" class="headerlink" title="WHY WORDPRESS ASKS FOR CONNECTION INFO"></a>WHY WORDPRESS ASKS FOR CONNECTION INFO</h3><p><a href="https://www.chrisabernethy.com/why-wordpress-asks-connection-info/" target="_blank" rel="external">Why WordPress Asks for Connection Info</a></p>
<p>One of the great features of WordPress is that it allows you to automatically install and upgrade plugins.</p>
<p>A common problem is that WordPress is unable to access the filesystem directly, which results in a page indicating that “<em>To perform the requested action, connection information is required.</em>“</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://www.chrisabernethy.com/wp-content/uploads/2008/12/connection_info_needed.jpg" alt="Connection Information" title="Connection">
                </div>
                <div class="image-caption">Connection</div>
            </figure>
<p>If you feel that your WordPress installation should not be asking you for this information, or you simply do not want WordPress to use this method of plugin management, you may be able to work around it.</p>
<h4 id="What-is-Causing-This"><a href="#What-is-Causing-This" class="headerlink" title="What is Causing This?"></a>What is Causing This?</h4><p>Whenever you use the WordPress control panel to automatically install, upgrade, or delete plugins, WordPress must make changes to files on the filesystem.</p>
<p>Before making any changes, WordPress first checks to see whether or not it has access to directly manipulate the file system.</p>
<p>If WordPress does not have the necessary permissions to modify the filesystem directly, you will be asked for FTP credentials so that WordPress can try to do what it needs to via FTP.</p>
<h4 id="Why-Can’t-WordPress-Write-To-The-Filesystem"><a href="#Why-Can’t-WordPress-Write-To-The-Filesystem" class="headerlink" title="Why Can’t WordPress Write To The Filesystem?"></a>Why Can’t WordPress Write To The Filesystem?</h4><p>In order to understand why WordPress can’t write to the filesystem, we need to take a look at some WordPress internals.</p>
<p>The following code is from the <code>get_filesystem_method()</code> method in the <code>wp-admin/includes/file.php</code> file:</p>
<pre>
if( function_exists('getmyuid') && function_exists('fileowner') ){
    $temp_file = wp_tempnam();
    if ( getmyuid() == fileowner($temp_file) )
        $method = 'direct';
    unlink($temp_file);
}
</pre>

<p>This code creates a temporary file and confirms that the file just created is owned by the same user that <em>owns the script currently being run</em>. In the case of installing plugins, the script being run is <code>wp-admin/plugin-install.php</code>.</p>
<p>This may seem a little counter-intuitive, since the only thing WordPress really needs to be able to do is write to the <code>wp-content/plugins</code> directory.</p>
<h4 id="What-Can-I-Do-About-It"><a href="#What-Can-I-Do-About-It" class="headerlink" title="What Can I Do About It?"></a>What Can I Do About It?</h4><p>In order to fix this issue, you will need to make sure that the scripts which need to write to the filesystem are owned by the same user that apache is running as.</p>
<p>Many hosting companies will run your apache instance using your user account, and all of your files will be owned by the same account. In those cases, you will probably not have the issue described here.</p>
<p>If your hosting company is running apache as a system user, and your files are owned by your own account, your only option may be to enter your FTP credentials here and allow WordPress to use FTP.</p>
<p>If you are running on a hosting company that gives you root access, or you have installed WordPress on your own development machine at home or at work, you should be able to modify the filesystem permissions to allow WordPress to directly access the filesystem.</p>
<p>The easiest way to do this is to find out what user apache is running as and change ownership of the entire WordPress directory to that user. For example, if apache is running as ‘httpd’, you could use the following commands on your WordPress installation directory:</p>
<pre>
# chown -R httpd: wordpress
</pre>

<p>Note that not all versions of <code>chown</code> are equal. If that command does not work, see your local <code>chown</code> man page for usage information.</p>
<p><strong>Tip:</strong> In order to find out what user your instance of apache is running as, create a test script with the following content:<br><code>&lt;?php echo(exec(&quot;whoami&quot;)); ?&gt;</code><br>Thanks <a href="http://wp-wizardry.com/" title="WP Wizardry: Magical Stuff for WordPress" target="_blank" rel="external">Suzanne</a>!</p>
<h2 id="FAQ-1"><a href="#FAQ-1" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="Nginx-413-Request-Entity-Too-Large-Error-and-Solution"><a href="#Nginx-413-Request-Entity-Too-Large-Error-and-Solution" class="headerlink" title="Nginx: 413 Request Entity Too Large Error and Solution"></a>Nginx: 413 Request Entity Too Large Error and Solution</h3><p>See <a href="https://www.cyberciti.biz/faq/linux-unix-bsd-nginx-413-request-entity-too-large/" target="_blank" rel="external">Nginx: 413 Request Entity Too Large Error and Solution – nixCraft</a></p>
<p>See also <a href="https://easyengine.io/tutorials/php/increase-file-upload-size-limit/" target="_blank" rel="external">Increase file upload size limit in PHP-Nginx</a></p>
<h4 id="Nginx-configuration"><a href="#Nginx-configuration" class="headerlink" title="Nginx configuration"></a>Nginx configuration</h4><p>The<br><kbd>client_max_body_size</kbd> directive assigns the maximum accepted body size of client request, indicated by the line Content-Length in the header of request. If size is greater the given one, then the client gets the error “Request Entity Too Large” (413). To fix this issue edit your nginx.conf. Open the Terminal or login to the remote server using ssh client. Type the following command to edit your nginx.conf using a text editor such as vi or joe:<br><code># vi /etc/nginx/nginx.conf</code><br>OR<br><code># vi /usr/local/nginx/conf/nginx.conf</code><br>Add the following line to <strong>http or server or location context</strong> to increase the size limit in nginx.conf, enter:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># set client body size to 2M #</div><div class="line">client_max_body_size 2M;</div></pre></td></tr></table></figure>
<p>Save and close the file. <a href="https://www.cyberciti.biz/faq/nginx-linux-restart/" target="_blank" rel="external">Reload the nginx webserver</a>, enter:<br><code># /usr/local/nginx/sbin/nginx -s reload</code><br>OR<br><code># /sbin/nginx -s reload</code><br>OR use the following on RHEL/CentOS/Debian/Ubuntu Linux:<br><code># service nginx reload</code></p>
<h4 id="PHP-configuration-optional"><a href="#PHP-configuration-optional" class="headerlink" title="PHP configuration (optional)"></a>PHP configuration (optional)</h4><p>Your php installation also put limits on upload file size. Edit php.ini and set the following directives</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">;This sets the maximum amount of memory in bytes that a script is allowed to allocate</div><div class="line">memory_limit = 32M</div><div class="line"></div><div class="line">;The maximum size of an uploaded file.</div><div class="line">upload_max_filesize = 2M</div><div class="line"></div><div class="line">;Sets max size of post data allowed. This setting also affects file upload. To upload large files, this value must be larger than upload_max_filesize</div><div class="line">post_max_size = 3M</div></pre></td></tr></table></figure>
<p>Save and close the file. Make sure you reload/restart back-end apache or nginx web server as per your setup. See “<a href="https://www.cyberciti.biz/faq/linux-unix-apache-increase-php-upload-limit/" target="_blank" rel="external">PHP Increase Upload File Size Limit</a>” tutorial for more information.</p>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2017-11-05T08:22:17.000Z" itemprop="dateUpdated">2017-11-05 16:22:17</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/PHP/2017-05-01-php-nginx-wordpress.html" target="_blank" rel="external">http://blog.inching.org/PHP/2017-05-01-php-nginx-wordpress.html</a>
        
    </div>
    <footer>
        <a href="http://blog.inching.org">
            <img src="/img/avatar.png" alt="Cody Fei">
            Cody Fei
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/centos/">centos</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lamp/">lamp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx/">nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/wordpress/">wordpress</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/PHP/2017-05-01-php-nginx-wordpress.html&title=《How To Install WordPress with Nginx on a CentOS 7 Server》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/PHP/2017-05-01-php-nginx-wordpress.html&title=《How To Install WordPress with Nginx on a CentOS 7 Server》 — Balance&source=WordPress is the most widely used open source web blogging and content manage..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/PHP/2017-05-01-php-nginx-wordpress.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《How To Install WordPress with Nginx on a CentOS 7 Server》 — Balance&url=http://blog.inching.org/PHP/2017-05-01-php-nginx-wordpress.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/PHP/2017-05-01-php-nginx-wordpress.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/Nginx/2017-05-01-php-nginx-location.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Nginx location 匹配规则</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/PHP/2017-05-01-centos7-nginx-lamp.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">How to Install PHP 7, NGINX &amp; MySQL 5.6 on CentOS/RHEL 7.1 &amp; 6.7</h4>
      </a>
    </div>
  
</nav>



    











</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.JPG" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.JPG" data-alipay="/img/alipay.JPG">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top" style="display:none">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>footer.license</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Cody Fei &copy; 2012 - 2017</span>
            <span style="display:none">
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.inching.org/PHP/2017-05-01-php-nginx-wordpress.html&title=《How To Install WordPress with Nginx on a CentOS 7 Server》 — Balance&pic=http://blog.inching.org/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.inching.org/PHP/2017-05-01-php-nginx-wordpress.html&title=《How To Install WordPress with Nginx on a CentOS 7 Server》 — Balance&source=WordPress is the most widely used open source web blogging and content manage..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.inching.org/PHP/2017-05-01-php-nginx-wordpress.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《How To Install WordPress with Nginx on a CentOS 7 Server》 — Balance&url=http://blog.inching.org/PHP/2017-05-01-php-nginx-wordpress.html&via=http://blog.inching.org" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.inching.org/PHP/2017-05-01-php-nginx-wordpress.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACrElEQVR42u3aMZLjMAwEQP//07vpXWDtDEC6HLQiV9mS2AwIeojXK75+1te/z3n3/OSNrxsXHh4e3tGhJy9798vnoedv39yFh4eHd4/3vFg/A95N1vPzn39/qsDg4eHhfQPv3SASTI6cTRkeHh7ed/LaQWyW/tkY8PDw8D7Dm21hn5f1fIhJUHs9a8HDw8OLefmW93s+Xznfw8PDw7vQEJDflccW7ZOL0eLh4eFd4OULbh40JN/ui1OxucfDw8M7ytsf6rdRxaz85JHEf7/Bw8PDu8DbxLLti5O78jaCtmDg4eHh3eDl0UPbepUfrbVvL7bveHh4eId4+aLcHkolQ9nEEEUxwMPDw7vAO9vM1LZPzcYWjRYPDw/vGi9Z7mdHXHks20a6UanAw8PDu8CbhQWzYLctKvuWLDw8PLx7vHbx3UexbUyclJyoBuLh4eGteW0okG9/243vbFP+x114eHh4l3n7aDWJG5LGglOHdnh4eHg3eG2ke3a7nB90JaUi6inDw8PDW/PaFoF8U5t/O2s1iCYLDw8P7zIvX/rb+HXzzDyMeNt0hYeHh3eN1w5xFhO0n9u2g6Ly4OHh4Y147V/92Va4bZBq4wk8PDy8z/NObYvbwlCHC7OoAg8PD++DvNkQn5GzazbpeHh4eJ/h5Yf9LWATOrTlpNjX4+Hh4a15eYDbHk1titDzpPzxGzw8PLxrvHypnW2FN5PSlg08PDy8e7x9KJCUjXzoeQGISgseHh7eBV7b0jQbdNuIsGnMmjVs4eHh4bW8Nn6dHY/tD9vaNgU8PDy827x2g5ss9+3Sv7/w8PDwvpl34GgqT5pH23c8PDy87+ElsUIy0M2BWf52PDw8vHu84c2jDXfbiLCKOfDw8PAu8No/+acap5IBJRN0OMPAw8PDe7p+AcFJSt876zHjAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.6.17"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.17" async></script>










</body>
</html>
